<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>éƒ¨ç½²ä¸è¿ç»´ - LangChain4j å­¦ä¹ æŒ‡å—</title>
    <!-- æ¨¡å—åŒ–CSS -->
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="page-container">
        


<aside class="sidebar">
  <div class="sidebar-content">
    <div class="sidebar-logo">
      <div class="sidebar-logo-icon">
        <svg class="sidebar-logo-svg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
        </svg>
      </div>
      <div>
        <h1 class="sidebar-logo-title">LangChain4j</h1>
        <p class="sidebar-logo-subtitle">å…¥é—¨æŒ‡å—</p>
      </div>
    </div>

    <div class="space-y-6">
      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">å¿«é€Ÿå¼€å§‹</h3>
        <ul class="sidebar-nav-list">
          <li><a href="index.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="index">æ¦‚è§ˆ</a></li>
          <li><a href="getting-started.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="getting-started">ç¯å¢ƒå‡†å¤‡</a></li>
          <li><a href="core-concepts.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="core-concepts">æ ¸å¿ƒæ¦‚å¿µ</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">æ ¸å¿ƒåŠŸèƒ½</h3>
        <ul class="sidebar-nav-list">
          <li><a href="embedding-models.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="embedding-models">Embedding æ¨¡å‹</a></li>
          <li><a href="prompt-templates.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="prompt-templates">Prompt æ¨¡æ¿</a></li>
          <li><a href="output-parsers.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="output-parsers">è¾“å‡ºè§£æ</a></li>
          <li><a href="model-providers.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="model-providers">æ¨¡å‹æä¾›å•†</a></li>
          <li><a href="function-calling-deep.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="function-calling-deep">å‡½æ•°è°ƒç”¨</a></li>
          <li><a href="advanced-features.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="advanced-features">é«˜çº§ç‰¹æ€§</a></li>
          <li><a href="multimodal-full.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="multimodal-full">å¤šæ¨¡æ€</a></li>
        </ul>
      </div>

       <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">RAG å®Œæ•´æŒ‡å—</h3>
        <ul class="sidebar-nav-list">
          <li><a href="rag-intro.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="rag-intro">RAG ç®€ä»‹</a></li>
          <li><a href="rag-setup.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="rag-setup">RAG ç¯å¢ƒæ­å»º</a></li>
          <li><a href="rag-implementation.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="rag-implementation">RAG å®ç°</a></li>
          <li><a href="rag-advanced.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="rag-advanced">RAG é«˜çº§</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">é¡¹ç›®å®æˆ˜</h3>
        <ul class="sidebar-nav-list">
          <li><a href="project-chatbot.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="project-chatbot">èŠå¤©æœºå™¨äºº</a></li>
          <li><a href="project-ai-assistant.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="project-ai-assistant">AIåŠ©æ‰‹</a></li>
          <li><a href="project-rag-kb.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="project-rag-kb">RAGçŸ¥è¯†åº“</a></li>
          <li><a href="practice.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="practice">ç»¼åˆå®æˆ˜</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">æœ€ä½³å®è·µ</h3>
        <ul class="sidebar-nav-list">
          <li><a href="best-practices.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="best-practices">æœ€ä½³å®è·µ</a></li>
          <li><a href="testing-strategies.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="testing-strategies">æµ‹è¯•ç­–ç•¥</a></li>
          <li><a href="performance-tuning.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="performance-tuning">æ€§èƒ½ä¼˜åŒ–</a></li>
          <li><a href="deep-dive.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="deep-dive">æ·±åº¦è§£æ</a></li>
          <li><a href="error-handling.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="error-handling">é”™è¯¯å¤„ç†</a></li>
          <li><a href="moderation-safety.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="moderation-safety">å†…å®¹å®¡æ ¸</a></li>
          <li><a href="troubleshooting.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="troubleshooting">æ•…éšœæ’æŸ¥</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">é¢è¯•å‡†å¤‡</h3>
        <ul class="sidebar-nav-list">
          <li><a href="interview-prep.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="interview-prep">é¢è¯•å‡†å¤‡</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">å…¶ä»–</h3>
        <ul class="sidebar-nav-list">
          <li><a href="search.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="search">å‘é‡æœç´¢</a></li>
          <li><a href="chat-listeners.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="chat-listeners">ç›‘å¬å™¨</a></li>
          <li><a href="faq.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="faq">å¸¸è§é—®é¢˜</a></li>
          <li><a href="cost-optimization.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="cost-optimization">æˆæœ¬ä¼˜åŒ–</a></li>
          <li><a href="deployment.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="deployment">éƒ¨ç½²ä¸Šçº¿</a></li>
          <li><a href="integrations.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="integrations">æ¡†æ¶é›†æˆ</a></li>
          <li><a href="examples.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="examples">å®æˆ˜ç¤ºä¾‹</a></li>
        </ul>
      </div>
    </div>
  </div>
</aside>





        <main class="main-content">
            <div class="content-wrapper">
                <!-- é¡µé¢æ ‡ç­¾ -->
                <div class="flex items-center gap-2 mb-4">
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-full">éƒ¨ç½²ä¸è¿ç»´</span>
                    <span class="px-3 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-full">ç”Ÿäº§ç¯å¢ƒ</span>
                    <span class="px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full">Docker</span>
                </div>

                <h1 class="page-title">éƒ¨ç½²ä¸è¿ç»´</h1>
                <p class="page-intro">LangChain4j åº”ç”¨çš„ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ä¸è¿ç»´æŒ‡å—</p>

                <!-- ç›®å½• -->
                <nav class="bg-gray-50 border border-gray-200 rounded-xl p-6 mb-8">
                    <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4">ç›®å½•</h3>
                    <ol class="toc-list">
                        <li class="toc-item"><span class="toc-number">1.</span> <a href="#å®¹å™¨åŒ–éƒ¨ç½²" class="toc-link">å®¹å™¨åŒ–éƒ¨ç½²</a></li>
                        <li class="toc-item"><span class="toc-number">2.</span> <a href="#Kubernetesç¼–æ’" class="toc-link">Kubernetes ç¼–æ’</a></li>
                        <li class="toc-item"><span class="toc-number">3.</span> <a href="#CI_CDæµç¨‹" class="toc-link">CI/CD æµç¨‹</a></li>
                        <li class="toc-item"><span class="toc-number">4.</span> <a href="#ç›‘æ§å‘Šè­¦ä¸æ—¥å¿—" class="toc-link">ç›‘æ§å‘Šè­¦ä¸æ—¥å¿—</a></li>
                    </ol>
                </nav>

                <!-- ç¬¬1èŠ‚ï¼šå®¹å™¨åŒ–éƒ¨ç½² -->
                <section id="å®¹å™¨åŒ–éƒ¨ç½²" class="mb-16">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">1</span>
                        <h2 class="text-2xl font-bold text-gray-900">å®¹å™¨åŒ–éƒ¨ç½²</h2>
                    </div>

                    <h3 class="subsection-title">1.1 Docker é•œåƒæ„å»º</h3>
                    <p class="paragraph">ä½¿ç”¨ Docker å®¹å™¨åŒ– LangChain4j åº”ç”¨ï¼Œå®ç°ç¯å¢ƒä¸€è‡´æ€§å’Œæ˜“äºéƒ¨ç½²ï¼š</p>

                    <div class="code-wrapper">
                        <div class="code-filename-badge">Dockerfile</div>
                        <pre class="bg-gray-900 text-gray-100 rounded-lg p-5 overflow-x-auto"><code class="text-sm"><span class="text-gray-500"># åŸºç¡€é•œåƒï¼šä½¿ç”¨ JDK 17</span>
<span class="code-keyword">FROM</span> openjdk:<span class="code-string">17-jdk-slim</span> <span class="code-keyword">AS</span> builder

<span class="text-gray-500"># è®¾ç½®å·¥ä½œç›®å½•</span>
<span class="code-keyword">WORKDIR</span> /app

<span class="text-gray-500"># å¤åˆ¶ Maven é…ç½®æ–‡ä»¶</span>
<span class="code-keyword">COPY</span> pom.xml .

<span class="text-gray-500"># æ„å»º Spring Boot åº”ç”¨ï¼ˆä¾èµ–ä¸‹è½½å’Œç¼–è¯‘ï¼‰</span>
<span class="code-keyword">RUN</span> mvn clean package -DskipTests

<span class="text-gray-500"># å¤šé˜¶æ®µæ„å»ºï¼šä½¿ç”¨æ›´å°çš„è¿è¡Œæ—¶é•œåƒ</span>
<span class="code-keyword">FROM</span> openjdk:<span class="code-string">17-jre-slim</span>

<span class="text-gray-500"># åˆ›å»ºåº”ç”¨ç›®å½•å’Œé root ç”¨æˆ·</span>
<span class="code-keyword">WORKDIR</span> /app
<span class="code-keyword">RUN</span> groupadd -r appuser && useradd -r -g appuser appuser

<span class="text-gray-500"># ä»æ„å»ºé˜¶æ®µå¤åˆ¶ JAR æ–‡ä»¶</span>
<span class="code-keyword">COPY</span> --from=builder /app/target/*.jar app.jar

<span class="text-gray-500"># è®¾ç½®æ–‡ä»¶æƒé™</span>
<span class="code-keyword">RUN</span> chown -R appuser:appuser /app

<span class="text-gray-500"># åˆ‡æ¢åˆ°é root ç”¨æˆ·</span>
<span class="code-keyword">USER</span> appuser

<span class="text-gray-500"># æš´éœ²ç«¯å£</span>
<span class="code-keyword">EXPOSE</span> <span class="code-string">8080</span>

<span class="text-gray-500"># å¯åŠ¨åº”ç”¨</span>
<span class="code-keyword">ENTRYPOINT</span> ["java", "-jar", "app.jar"]</code></pre>
                    </div>

                    <h3 class="subsection-title">1.2 Docker Compose ç¼–æ’</h3>
                    <p class="paragraph">ä½¿ç”¨ Docker Compose ç®¡ç†å¤šå®¹å™¨åº”ç”¨ï¼š</p>

                    <div class="code-wrapper">
                        <div class="code-filename-badge">docker-compose.yml</div>
                        <pre class="bg-gray-900 text-gray-100 rounded-lg p-5 overflow-x-auto"><code class="text-sm"><span class="code-keyword">version</span>: <span class="code-string">'3.8'</span>

<span class="code-keyword">services</span>:
  <span class="text-gray-500"># LangChain4j åº”ç”¨</span>
  app:
    <span class="code-keyword">build</span>: .
    <span class="code-keyword">ports</span>:
      - <span class="code-string">"8080:8080"</span>
    <span class="code-keyword">environment</span>:
      - <span class="code-string">SPRING_PROFILES_ACTIVE=production</span>
      - <span class="code-string">OPENAI_API_KEY=${OPENAI_API_KEY}</span>
      - <span class="code-string">POSTGRES_URL=jdbc:postgresql://postgres:5432/langchain4j</span>
    <span class="code-keyword">depends_on</span>:
      - postgres
      - redis
    <span class="code-keyword">restart</span>: unless-stopped

  <span class="text-gray-500"># PostgreSQL æ•°æ®åº“</span>
  postgres:
    <span class="code-keyword">image</span>: pgvector/pgvector:pg16
    <span class="code-keyword">environment</span>:
      - <span class="code-string">POSTGRES_USER=postgres</span>
      - <span class="code-string">POSTGRES_PASSWORD=postgres</span>
      - <span class="code-string">POSTGRES_DB=langchain4j</span>
    <span class="code-keyword">volumes</span>:
      - postgres_data:/var/lib/postgresql/data
    <span class="code-keyword">ports</span>:
      - <span class="code-string">"5432:5432"</span>

  <span class="text-gray-500"># Redis ç¼“å­˜</span>
  redis:
    <span class="code-keyword">image</span>: redis:7-alpine
    <span class="code-keyword">volumes</span>:
      - redis_data:/data
    <span class="code-keyword">ports</span>:
      - <span class="code-string">"6379:6379"</span>

<span class="code-keyword">volumes</span>:
  postgres_data:
  redis_data:</code></pre>
                    </div>
                </section>

                <!-- ç¬¬2èŠ‚ï¼šKubernetes ç¼–æ’ -->
                <section id="Kubernetesç¼–æ’" class="mb-16">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">2</span>
                        <h2 class="text-2xl font-bold text-gray-900">Kubernetes ç¼–æ’</h2>
                    </div>

                    <h3 class="subsection-title">2.1 Deployment é…ç½®</h3>
                    <p class="paragraph">åœ¨ Kubernetes ä¸­éƒ¨ç½² LangChain4j åº”ç”¨ï¼š</p>

                    <div class="code-wrapper">
                        <div class="code-filename-badge">deployment.yaml</div>
                        <pre class="bg-gray-900 text-gray-100 rounded-lg p-5 overflow-x-auto"><code class="text-sm"><span class="code-keyword">apiVersion</span>: apps/v1
<span class="code-keyword">kind</span>: Deployment
<span class="code-keyword">metadata</span>:
  <span class="code-keyword">name</span>: langchain4j-app
  <span class="code-keyword">labels</span>:
    app: langchain4j
<span class="code-keyword">spec</span>:
  <span class="code-keyword">replicas</span>: <span class="code-string">3</span>  <span class="text-gray-500"># 3 ä¸ªå‰¯æœ¬</span>
  <span class="code-keyword">selector</span>:
    <span class="code-keyword">matchLabels</span>:
      app: langchain4j
  <span class="code-keyword">template</span>:
    <span class="code-keyword">metadata</span>:
      <span class="code-keyword">labels</span>:
        app: langchain4j
    <span class="code-keyword">spec</span>:
      <span class="code-keyword">containers</span>:
      - <span class="code-keyword">name</span>: langchain4j
        <span class="code-keyword">image</span>: your-registry/langchain4j:latest
        <span class="code-keyword">ports</span>:
        - <span class="code-keyword">containerPort</span>: <span class="code-string">8080</span>
        <span class="code-keyword">env</span>:
        - <span class="code-keyword">name</span>: SPRING_PROFILES_ACTIVE
          <span class="code-keyword">value</span>: <span class="code-string">"production"</span>
        - <span class="code-keyword">name</span>: OPENAI_API_KEY
          <span class="code-keyword">valueFrom</span>:
            <span class="code-keyword">secretKeyRef</span>:
              <span class="code-keyword">name</span>: openai-api-key
              <span class="code-keyword">key</span>: api-key
        <span class="code-keyword">resources</span>:
          <span class="code-keyword">requests</span>:
            <span class="code-keyword">memory</span>: <span class="code-string">"512Mi"</span>
            <span class="code-keyword">cpu</span>: <span class="code-string">"500m"</span>
          <span class="code-keyword">limits</span>:
            <span class="code-keyword">memory</span>: <span class="code-string">"1Gi"</span>
            <span class="code-keyword">cpu</span>: <span class="code-string">"1000m"</span>
        <span class="code-keyword">livenessProbe</span>:
          <span class="code-keyword">httpGet</span>:
            <span class="code-keyword">path</span>: <span class="code-string">/actuator/health</span>
            <span class="code-keyword">port</span>: <span class="code-string">8080</span>
          <span class="code-keyword">initialDelaySeconds</span>: <span class="code-string">60</span>
          <span class="code-keyword">periodSeconds</span>: <span class="code-string">10</span>
        <span class="code-keyword">readinessProbe</span>:
          <span class="code-keyword">httpGet</span>:
            <span class="code-keyword">path</span>: <span class="code-string">/actuator/health</span>
            <span class="code-keyword">port</span>: <span class="code-string">8080</span>
          <span class="code-keyword">initialDelaySeconds</span>: <span class="code-string">30</span>
          <span class="code-keyword">periodSeconds</span>: <span class="code-string">5</span>
---
<span class="code-keyword">apiVersion</span>: v1
<span class="code-keyword">kind</span>: Service
<span class="code-keyword">metadata</span>:
  <span class="code-keyword">name</span>: langchain4j-service
<span class="code-keyword">spec</span>:
  <span class="code-keyword">selector</span>:
    app: langchain4j
  <span class="code-keyword">ports</span>:
  - <span class="code-keyword">protocol</span>: TCP
    <span class="code-keyword">port</span>: <span class="code-string">8080</span>
    <span class="code-keyword">targetPort</span>: <span class="code-string">8080</span>
  <span class="code-keyword">type</span>: LoadBalancer</span></code></pre>
                    </div>

                    <h3 class="subsection-title">2.2 é…ç½®ç®¡ç†</h3>
                    <p class="paragraph">ä½¿ç”¨ Kubernetes ConfigMap å’Œ Secret ç®¡ç†é…ç½®ï¼š</p>

                    <div class="code-wrapper">
                        <div class="code-filename-badge">config.yaml</div>
                        <pre class="bg-gray-900 text-gray-100 rounded-lg p-5 overflow-x-auto"><code class="text-sm"><span class="text-gray-500"># ConfigMap: åº”ç”¨é…ç½®</span>
<span class="code-keyword">apiVersion</span>: v1
<span class="code-keyword">kind</span>: ConfigMap
<span class="code-keyword">metadata</span>:
  <span class="code-keyword">name</span>: langchain4j-config
<span class="code-keyword">data</span>:
  <span class="code-keyword">application.yml</span>: |
    spring:
      datasource:
        url: jdbc:postgresql://postgres-service:5432/langchain4j
        username: postgres
      redis:
        host: redis-service
        port: 6379
---
<span class="text-gray-500"># Secret: æ•æ„Ÿä¿¡æ¯</span>
<span class="code-keyword">apiVersion</span>: v1
<span class="code-keyword">kind</span>: Secret
<span class="code-keyword">metadata</span>:
  <span class="code-keyword">name</span>: openai-api-key
<span class="code-keyword">type</span>: Opaque
<span class="code-keyword">stringData</span>:
  <span class="code-keyword">api-key</span>: <span class="code-string">sk-proj-xxx</span>  <span class="text-gray-500"># base64 ç¼–ç </span></code></pre>
                    </div>
                </section>

                <!-- ç¬¬3èŠ‚ï¼šCI/CD æµç¨‹ -->
                <section id="CI_CDæµç¨‹" class="mb-16">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">3</span>
                        <h2 class="text-2xl font-bold text-gray-900">CI/CD æµç¨‹</h2>
                    </div>

                    <h3 class="subsection-title">3.1 GitHub Actions CI</h3>
                    <p class="paragraph">è‡ªåŠ¨åŒ–æ„å»ºå’Œæµ‹è¯•æµç¨‹ï¼š</p>

                    <div class="code-wrapper">
                        <div class="code-filename-badge">.github/workflows/ci.yml</div>
                        <pre class="bg-gray-900 text-gray-100 rounded-lg p-5 overflow-x-auto"><code class="text-sm"><span class="code-keyword">name</span>: CI/CD Pipeline

<span class="code-keyword">on</span>:
  <span class="code-keyword">push</span>:
    <span class="code-keyword">branches</span>: [ main ]
  <span class="code-keyword">pull_request</span>:

<span class="code-keyword">jobs</span>:
  <span class="code-keyword">build</span>:
    <span class="code-keyword">runs-on</span>: ubuntu-latest
    <span class="code-keyword">steps</span>:
    - <span class="code-keyword">uses</span>: actions/checkout@v4
    - <span class="code-keyword">name</span>: Set up JDK 17
      <span class="code-keyword">uses</span>: actions/setup-java@v4
      <span class="code-keyword">with</span>:
        java-version: <span class="code-string">'17'</span>
        distribution: <span class="code-string">'temurin'</span>
    - <span class="code-keyword">name</span>: Build with Maven
      <span class="code-keyword">run</span>: mvn clean package -DskipTests
    - <span class="code-keyword">name</span>: Run Tests
      <span class="code-keyword">run</span>: mvn test
    - <span class="code-keyword">name</span>: Build Docker Image
      <span class="code-keyword">run</span>: docker build -t langchain4j:${{ github.sha }} .
    - <span class="code-keyword">name</span>: Push to Registry
      <span class="code-keyword">if</span>: github.ref == <span class="code-string">'refs/heads/main'</span>
      <span class="code-keyword">run</span>: |
        echo ${{ secrets.REGISTRY_PASSWORD }} | docker login -u ${{ secrets.REGISTRY_USER }} --password-stdin
        docker push langchain4j:${{ github.sha }}</code></pre>
                    </div>

                    <h3 class="subsection-title">3.2 è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ° K8s</h3>
                    <p class="paragraph">æ„å»ºå®Œæˆåè‡ªåŠ¨éƒ¨ç½²åˆ° Kubernetesï¼š</p>

                    <div class="bg-green-50 border border-green-200 rounded-lg p-6">
                        <h4 class="font-semibold text-green-800 mb-3">éƒ¨ç½²æ­¥éª¤</h4>
                        <ol class="list-decimal list-inside text-green-700 space-y-2">
                            <li><strong>æ„å»ºé•œåƒ</strong>ï¼šCI æµç¨‹æ„å»ºå¹¶æ¨é€ Docker é•œåƒåˆ°é•œåƒä»“åº“</li>
                            <li><strong>æ›´æ–°éƒ¨ç½²</strong>ï¼šä½¿ç”¨ `kubectl set image` æ›´æ–° Deployment é•œåƒç‰ˆæœ¬</li>
                            <li><strong>æ»šåŠ¨æ›´æ–°</strong>ï¼šKubernetes è‡ªåŠ¨æ‰§è¡Œæ»šåŠ¨æ›´æ–°ï¼Œé›¶åœæœºéƒ¨ç½²</li>
                            <li><strong>å¥åº·æ£€æŸ¥</strong>ï¼šéªŒè¯æ–° Pod å¥åº·çŠ¶æ€</li>
                            <li><strong>å›æ»š</strong>ï¼šå¦‚æœæ£€æµ‹åˆ°é—®é¢˜ï¼Œè‡ªåŠ¨å›æ»šåˆ°ä¸Šä¸€ä¸ªç¨³å®šç‰ˆæœ¬</li>
                        </ol>
                    </div>
                </section>

                <!-- ç¬¬4èŠ‚ï¼šç›‘æ§å‘Šè­¦ä¸æ—¥å¿— -->
                <section id="ç›‘æ§å‘Šè­¦ä¸æ—¥å¿—" class="mb-16">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">4</span>
                        <h2 class="text-2xl font-bold text-gray-900">ç›‘æ§å‘Šè­¦ä¸æ—¥å¿—</h2>
                    </div>

                    <h3 class="subsection-title">4.1 Prometheus ç›‘æ§</h3>
                    <p class="paragraph">ä½¿ç”¨ Prometheus æ”¶é›†åº”ç”¨æŒ‡æ ‡ï¼š</p>

                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6">
                        <h4 class="font-semibold text-blue-800 mb-3">å…³é”®ç›‘æ§æŒ‡æ ‡</h4>
                        <ul class="text-blue-700 space-y-2">
                            <li><strong>API è°ƒç”¨æ¬¡æ•°</strong>ï¼šæ¯åˆ†é’Ÿ/å°æ—¶çš„ API è°ƒç”¨æ€»é‡</li>
                            <li><strong>å“åº”æ—¶é—´</strong>ï¼šAPI è¯·æ±‚çš„å¹³å‡ã€P95ã€P99 å»¶è¿Ÿ</li>
                            <li><strong>é”™è¯¯ç‡</strong>ï¼šAPI è°ƒç”¨å¤±è´¥ç‡ï¼ˆç›®æ ‡ < 1%ï¼‰</li>
                            <li><strong>Token ä½¿ç”¨é‡</strong>ï¼šè¾“å…¥/è¾“å‡º Token æ•°é‡å’Œæˆæœ¬</li>
                            <li><strong>ç¼“å­˜å‘½ä¸­ç‡</strong>ï¼šç¼“å­˜æˆåŠŸçš„è¯·æ±‚æ¯”ä¾‹</li>
                            <li><strong>JVM æŒ‡æ ‡</strong>ï¼šå †å†…å­˜ã€GC æ¬¡æ•°ã€çº¿ç¨‹æ•°</li>
                        </ul>
                    </div>

                    <h3 class="subsection-title">4.2 Grafana ä»ªè¡¨æ¿</h3>
                    <p class="paragraph">ä½¿ç”¨ Grafana å¯è§†åŒ–ç›‘æ§æ•°æ®ï¼š</p>

                    <div class="grid-3col">
                        <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                            <h4 class="font-semibold text-purple-800 mb-2">API ä»ªè¡¨æ¿</h4>
                            <p class="text-purple-700 text-sm">API è°ƒç”¨ã€å“åº”æ—¶é—´ã€é”™è¯¯ç‡</p>
                        </div>
                        <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                            <h4 class="font-semibold text-green-800 mb-2">æˆæœ¬ä»ªè¡¨æ¿</h4>
                            <p class="text-green-700 text-sm">Token ä½¿ç”¨ã€API è´¹ç”¨ã€é¢„ç®—å¯¹æ¯”</p>
                        </div>
                        <div class="bg-orange-50 border border-orange-200 rounded-lg p-4">
                            <h4 class="font-semibold text-orange-800 mb-2">ç³»ç»Ÿä»ªè¡¨æ¿</h4>
                            <p class="text-purple-700 text-sm">CPUã€å†…å­˜ã€ç½‘ç»œ I/O</p>
                        </div>
                    </div>

                    <h3 class="subsection-title">4.3 å‘Šè­¦è§„åˆ™</h3>
                    <p class="paragraph">è®¾ç½®åˆç†çš„å‘Šè­¦é˜ˆå€¼ï¼š</p>

                    <div class="code-wrapper">
                        <div class="code-filename-badge">alerting-rules.yml</div>
                        <pre class="bg-gray-900 text-gray-100 rounded-lg p-5 overflow-x-auto"><code class="text-sm"><span class="code-keyword">groups</span>:
  - <span class="code-keyword">name</span>: api_alerts
    <span class="code-keyword">rules</span>:
      - <span class="code-keyword">alert</span>: HighErrorRate
        <span class="code-keyword">expr</span>: rate(api_error_total[5m]) > <span class="code-string">0.05</span>  <span class="text-gray-500"># 5åˆ†é’Ÿå†…é”™è¯¯ç‡ > 5%</span>
        <span class="code-keyword">for</span>: <span class="code-string">5m</span>
        <span class="code-keyword">labels</span>:
          severity: critical
        <span class="code-keyword">annotations</span>:
          summary: <span class="code-string">"API é”™è¯¯ç‡è¿‡é«˜: {{ $value }}"</span>

      - <span class="code-keyword">alert</span>: HighLatency
        <span class="code-keyword">expr</span>: histogram_quantile(0.95)(api_latency_seconds[5m]) > <span class="code-string">5</span>  <span class="text-gray-500"># P95 å»¶è¿Ÿ > 5 ç§’</span>
        <span class="code-keyword">for</span>: <span class="code-string">5m</span>
        <span class="code-keyword">labels</span>:
          severity: warning
        <span class="code-keyword">annotations</span>:
          summary: <span class="code-string">"API å»¶è¿Ÿè¿‡é«˜: {{ $value }}s"</span>

      - <span class="code-keyword">alert</span>: BudgetExceeded
        <span class="code-keyword">expr</span>: sum(api_cost_total[30d]) > <span class="code-string">100</span>  <span class="text-gray-500"># æœˆåº¦æˆæœ¬ > 100 ç¾å…ƒ</span>
        <span class="code-keyword">for</span>: <span class="code-string">30d</span>
        <span class="code-keyword">labels</span>:
          severity: critical
        <span class="code-keyword">annotations</span>:
          summary: <span class="code-string">"é¢„ç®—è¶…æ”¯: {{ $value }} ç¾å…ƒ"</span></code></pre>
                    </div>

                    <h3 class="subsection-title">4.4 æ—¥å¿—èšåˆ</h3>
                    <p class="paragraph">ä½¿ç”¨ ELKï¼ˆElasticsearch + Logstash + Kibanaï¼‰æˆ–ç±»ä¼¼æ–¹æ¡ˆï¼š</p>

                    <div class="bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6">
                        <h4 class="font-semibold text-gray-900 mb-3">æ—¥å¿—æ”¶é›†ç­–ç•¥</h4>
                        <ul class="text-gray-700 space-y-2">
                            <li><strong>ç»“æ„åŒ–æ—¥å¿—</strong>ï¼šä½¿ç”¨ JSON æ ¼å¼è®°å½•æ—¥å¿—ï¼Œä¾¿äºæŸ¥è¯¢å’Œåˆ†æ</li>
                            <li><strong>æ—¥å¿—çº§åˆ«</strong>ï¼šç”Ÿäº§ç¯å¢ƒä½¿ç”¨ INFO çº§åˆ«ï¼Œå¼€å‘ç¯å¢ƒä½¿ç”¨ DEBUG</li>
                            <li><strong>å…³è”è¿½è¸ª</strong>ï¼šä¸ºæ¯ä¸ªè¯·æ±‚åˆ†é…å”¯ä¸€çš„ trace ID</li>
                            <li><strong>ä¿ç•™ç­–ç•¥</strong>ï¼šæ—¥å¿—ä¿ç•™ 7-30 å¤©ï¼Œæ ¹æ®éœ€æ±‚è°ƒæ•´</li>
                            <li><strong>æ•æ„Ÿä¿¡æ¯</strong>ï¼šè¿‡æ»¤æ‰ API Keyã€ç”¨æˆ·å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯</li>
                        </ul>
                    </div>

                    <div class="bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 mb-8">
                        <h3 class="text-xl font-bold text-white mb-2">ğŸ’¡ éƒ¨ç½²æœ€ä½³å®è·µ</h3>
                        <ul class="text-indigo-100 space-y-2">
                            <li><strong>å¤šç¯å¢ƒéš”ç¦»</strong>ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå®Œå…¨éš”ç¦»</li>
                            <li><strong>æ¸è¿›å¼éƒ¨ç½²</strong>ï¼šä½¿ç”¨è“ç»¿éƒ¨ç½²æˆ–é‡‘ä¸é›€å‘å¸ƒ</li>
                            <li><strong>é…ç½®ç®¡ç†</strong>ï¼šä½¿ç”¨ ConfigMap/Secret ç®¡ç†é…ç½®ï¼Œé¿å…ç¡¬ç¼–ç </li>
                            <li><strong>å¥åº·æ£€æŸ¥</strong>ï¼šé…ç½® liveness å’Œ readiness æ¢é’ˆ</li>
                            <li><strong>èµ„æºé™åˆ¶</strong>ï¼šè®¾ç½® CPU å’Œå†…å­˜ requests/limits</li>
                            <li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šç›‘æ§å…³é”®æŒ‡æ ‡ï¼Œè®¾ç½®åˆç†å‘Šè­¦é˜ˆå€¼</li>
                            <li><strong>å¤‡ä»½ç­–ç•¥</strong>ï¼šå®šæœŸå¤‡ä»½æ•°æ®åº“å’Œé…ç½®</li>
                        </ul>
                    </div>
                </section>

                <!-- æ€»ç»“ -->
                <div class="bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-8 text-white">
                    <h3 class="text-2xl font-bold mb-4">æœ¬èŠ‚å°ç»“</h3>
                    <p class="mb-4">æœ¬èŠ‚å®Œæ•´ä»‹ç»äº† LangChain4j åº”ç”¨çš„éƒ¨ç½²ä¸è¿ç»´ç­–ç•¥ï¼ŒåŒ…æ‹¬ï¼š</p>
                    <ul class="list-disc list-inside space-y-2 mb-6">
                        <li><strong>å®¹å™¨åŒ–éƒ¨ç½²</strong>ï¼šDocker é•œåƒæ„å»ºã€Docker Compose å¤šå®¹å™¨ç¼–æ’</li>
                        <li><strong>Kubernetes ç¼–æ’</strong>ï¼šDeployment é…ç½®ã€Service æš´éœ²ã€ConfigMap/Secret ç®¡ç†</li>
                        <li><strong>CI/CD æµç¨‹</strong>ï¼šGitHub Actions è‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²</li>
                        <li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šPrometheus æŒ‡æ ‡æ”¶é›†ã€Grafana å¯è§†åŒ–ã€å‘Šè­¦è§„åˆ™</li>
                        <li><strong>æ—¥å¿—èšåˆ</strong>ï¼šELK æ—¥å¿—æ”¶é›†ã€ç»“æ„åŒ–æ—¥å¿—ã€æ—¥å¿—ä¿ç•™ç­–ç•¥</li>
                    </ul>
                    <div class="border-t border-indigo-400 pt-6">
                        <p class="text-sm opacity-80 mb-2">ä¸‹ä¸€æ­¥</p>
                        <p class="text-indigo-100 mb-2">æ‰€æœ‰ä¸»è¦é¡µé¢å·²å®Œæˆï¼å‰©ä½™ 2 ä¸ªè¾ƒä½ä¼˜å…ˆçº§é¡µé¢ï¼ˆsearch.html å’Œ chat-listeners.htmlï¼‰å¯æ ¹æ®éœ€è¦è¡¥å……ã€‚</p>
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>
</html>
