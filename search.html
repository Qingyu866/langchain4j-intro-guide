<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æœç´¢åŠŸèƒ½ - LangChain4j å­¦ä¹ æŒ‡å—</title>
    <!-- æ¨¡å—åŒ–CSS -->
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="page-container">
        


<aside class="sidebar">
  <div class="sidebar-content">
    <div class="sidebar-logo">
      <div class="sidebar-logo-icon">
        <svg class="sidebar-logo-svg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
        </svg>
      </div>
      <div>
        <h1 class="sidebar-logo-title">LangChain4j</h1>
        <p class="sidebar-logo-subtitle">å…¥é—¨æŒ‡å—</p>
      </div>
    </div>

    <div class="space-y-6">
      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">å¿«é€Ÿå¼€å§‹</h3>
        <ul class="sidebar-nav-list">
          <li><a href="index.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="index">æ¦‚è§ˆ</a></li>
          <li><a href="getting-started.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="getting-started">ç¯å¢ƒå‡†å¤‡</a></li>
          <li><a href="core-concepts.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="core-concepts">æ ¸å¿ƒæ¦‚å¿µ</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">æ ¸å¿ƒåŠŸèƒ½</h3>
        <ul class="sidebar-nav-list">
          <li><a href="embedding-models.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="embedding-models">Embedding æ¨¡å‹</a></li>
          <li><a href="prompt-templates.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="prompt-templates">Prompt æ¨¡æ¿</a></li>
          <li><a href="output-parsers.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="output-parsers">è¾“å‡ºè§£æ</a></li>
          <li><a href="model-providers.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="model-providers">æ¨¡å‹æä¾›å•†</a></li>
          <li><a href="function-calling-deep.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="function-calling-deep">å‡½æ•°è°ƒç”¨</a></li>
          <li><a href="advanced-features.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="advanced-features">é«˜çº§ç‰¹æ€§</a></li>
          <li><a href="multimodal-full.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="multimodal-full">å¤šæ¨¡æ€</a></li>
        </ul>
      </div>

       <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">RAG å®Œæ•´æŒ‡å—</h3>
        <ul class="sidebar-nav-list">
          <li><a href="rag-intro.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="rag-intro">RAG ç®€ä»‹</a></li>
          <li><a href="rag-setup.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="rag-setup">RAG ç¯å¢ƒæ­å»º</a></li>
          <li><a href="rag-implementation.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="rag-implementation">RAG å®ç°</a></li>
          <li><a href="rag-advanced.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="rag-advanced">RAG é«˜çº§</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">é¡¹ç›®å®æˆ˜</h3>
        <ul class="sidebar-nav-list">
          <li><a href="project-chatbot.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="project-chatbot">èŠå¤©æœºå™¨äºº</a></li>
          <li><a href="project-ai-assistant.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="project-ai-assistant">AIåŠ©æ‰‹</a></li>
          <li><a href="project-rag-kb.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="project-rag-kb">RAGçŸ¥è¯†åº“</a></li>
          <li><a href="practice.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="practice">ç»¼åˆå®æˆ˜</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">æœ€ä½³å®è·µ</h3>
        <ul class="sidebar-nav-list">
          <li><a href="best-practices.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="best-practices">æœ€ä½³å®è·µ</a></li>
          <li><a href="testing-strategies.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="testing-strategies">æµ‹è¯•ç­–ç•¥</a></li>
          <li><a href="performance-tuning.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="performance-tuning">æ€§èƒ½ä¼˜åŒ–</a></li>
          <li><a href="deep-dive.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="deep-dive">æ·±åº¦è§£æ</a></li>
          <li><a href="error-handling.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="error-handling">é”™è¯¯å¤„ç†</a></li>
          <li><a href="moderation-safety.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="moderation-safety">å†…å®¹å®¡æ ¸</a></li>
          <li><a href="troubleshooting.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="troubleshooting">æ•…éšœæ’æŸ¥</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">é¢è¯•å‡†å¤‡</h3>
        <ul class="sidebar-nav-list">
          <li><a href="interview-prep.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="interview-prep">é¢è¯•å‡†å¤‡</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">å…¶ä»–</h3>
        <ul class="sidebar-nav-list">
          <li><a href="search.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="search">å‘é‡æœç´¢</a></li>
          <li><a href="chat-listeners.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="chat-listeners">ç›‘å¬å™¨</a></li>
          <li><a href="faq.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="faq">å¸¸è§é—®é¢˜</a></li>
          <li><a href="cost-optimization.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="cost-optimization">æˆæœ¬ä¼˜åŒ–</a></li>
          <li><a href="deployment.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="deployment">éƒ¨ç½²ä¸Šçº¿</a></li>
          <li><a href="integrations.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="integrations">æ¡†æ¶é›†æˆ</a></li>
          <li><a href="examples.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="examples">å®æˆ˜ç¤ºä¾‹</a></li>
        </ul>
      </div>
    </div>
  </div>
</aside>





        <main class="main-content">
            <div class="content-wrapper">
                <!-- é¡µé¢æ ‡ç­¾ -->
                <div class="flex items-center gap-2 mb-4">
                    <span class="px-3 py-1 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-full">æœç´¢åŠŸèƒ½</span>
                    <span class="px-3 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-full">å‘é‡æ£€ç´¢</span>
                    <span class="px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full">è¯­ä¹‰æœç´¢</span>
                </div>

                <h1 class="page-title">å‘é‡æœç´¢</h1>
                <p class="page-intro">LangChain4j çš„å‘é‡æ£€ç´¢å’Œè¯­ä¹‰æœç´¢å®ç°</p>

                <!-- ç›®å½• -->
                <nav class="bg-gray-50 border border-gray-200 rounded-xl p-6 mb-8">
                    <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4">ç›®å½•</h3>
                    <ol class="toc-list">
                        <li class="toc-item"><span class="toc-number">1.</span> <a href="#å‘é‡æ£€ç´¢æ¦‚è¿°" class="toc-link">å‘é‡æ£€ç´¢æ¦‚è¿°</a></li>
                        <li class="toc-item"><span class="toc-number">2.</span> <a href="#EmbeddingStoreæ¥å£" class="toc-link">EmbeddingStore æ¥å£</a></li>
                        <li class="toc-item"><span class="toc-number">3.</span> <a href="#å‘é‡æ£€ç´¢å®ç°" class="toc-link">å‘é‡æ£€ç´¢å®ç°</a></li>
                        <li class="toc-item"><span class="toc-number">4.</span> <a href="#æ··åˆæ£€ç´¢" class="toc-link">æ··åˆæ£€ç´¢</a></li>
                        <li class="toc-item"><span class="toc-number">5.</span> <a href="#æœ€ä½³å®è·µ" class="toc-link">æœ€ä½³å®è·µ</a></li>
                    </ol>
                </nav>

                <!-- ç¬¬1èŠ‚ï¼šå‘é‡æ£€ç´¢æ¦‚è¿° -->
                <section id="å‘é‡æ£€ç´¢æ¦‚è¿°" class="mb-16">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">1</span>
                        <h2 class="text-2xl font-bold text-gray-900">å‘é‡æ£€ç´¢æ¦‚è¿°</h2>
                    </div>

                    <h3 class="subsection-title">1.1 å‘é‡æ£€ç´¢åŸç†</h3>
                    <p class="paragraph">å‘é‡æ£€ç´¢æ˜¯åŸºäºå‘é‡ç›¸ä¼¼åº¦çš„è¯­ä¹‰æœç´¢æŠ€æœ¯ï¼š</p>

                    <div class="grid-2col">
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <h4 class="font-semibold text-blue-800 mb-2">å‘é‡åµŒå…¥</h4>
                            <p class="text-blue-700 text-sm">å°†æ–‡æœ¬è½¬æ¢ä¸ºé«˜ç»´å‘é‡è¡¨ç¤º</p>
                            <ul class="text-blue-600 text-xs mt-2 space-y-1">
                                <li> ç›¸ä¼¼è¯­ä¹‰çš„æ–‡æœ¬åœ¨å‘é‡ç©ºé—´ä¸­è·ç¦»ç›¸è¿‘</li>
                                <li> ä½¿ç”¨ Embedding æ¨¡å‹ç”Ÿæˆå‘é‡</li>
                                <li> å‘é‡ç»´åº¦é€šå¸¸ä¸º 768-3072</li>
                            </ul>
                        </div>
                        <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                            <h4 class="font-semibold text-green-800 mb-2">ç›¸ä¼¼åº¦è®¡ç®—</h4>
                            <p class="text-green-700 text-sm">è®¡ç®—æŸ¥è¯¢å‘é‡ä¸æ–‡æ¡£å‘é‡çš„ç›¸ä¼¼åº¦</p>
                            <ul class="text-green-600 text-xs mt-2 space-y-1">
                                <li> ä½™å¼¦ç›¸ä¼¼åº¦ï¼šæœ€å¸¸ç”¨ï¼Œå€¼åŸŸ [-1, 1]</li>
                                <li> æ¬§æ°è·ç¦»ï¼šå‘é‡ç©ºé—´ç›´çº¿è·ç¦»</li>
                                <li> ç‚¹ç§¯ï¼šæœªå½’ä¸€åŒ–å‘é‡çš„ä½™å¼¦ç›¸ä¼¼åº¦</li>
                            </ul>
                        </div>
                        <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                            <h4 class="font-semibold text-purple-800 mb-2">è¿”å›ç»“æœ</h4>
                            <p class="text-purple-700 text-sm">æŒ‰ç›¸ä¼¼åº¦æ’åºè¿”å›æœ€ç›¸å…³çš„æ–‡æ¡£</p>
                            <ul class="text-purple-600 text-xs mt-2 space-y-1">
                                <li> è¿”å›å‰ K ä¸ªæœ€ç›¸ä¼¼çš„ç»“æœ</li>
                                <li> åŒ…å«æ–‡æ¡£å†…å®¹å’Œç›¸ä¼¼åº¦åˆ†æ•°</li>
                                <li> å¯è®¾ç½®æœ€å°ç›¸ä¼¼åº¦é˜ˆå€¼è¿‡æ»¤</li>
                            </ul>
                        </div>
                        <div class="bg-orange-50 border border-orange-200 rounded-lg p-4">
                            <h4 class="font-semibold text-orange-800 mb-2">æ€§èƒ½ä¼˜åŠ¿</h4>
                            <p class="text-orange-700 text-sm">ç›¸æ¯”å…³é”®è¯æœç´¢çš„æ€§èƒ½ä¼˜åŠ¿</p>
                            <ul class="text-orange-600 text-xs mt-2 space-y-1">
                                <li> ç†è§£è¯­ä¹‰è€Œéå­—é¢åŒ¹é…</li>
                                <li> å¤„ç†å¤šè¯­è¨€å’Œå¤šä¹‰è¯</li>
                                <li> å¯æ‰©å±•åˆ°ç™¾ä¸‡çº§æ–‡æ¡£</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- ç¬¬2èŠ‚ï¼šEmbeddingStore æ¥å£ -->
                <section id="EmbeddingStoreæ¥å£" class="mb-16">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">2</span>
                        <h2 class="text-2xl font-bold text-gray-900">EmbeddingStore æ¥å£</h2>
                    </div>

                    <h3 class="subsection-title">2.1 æ ¸å¿ƒ API æ–¹æ³•</h3>
                    <p class="paragraph">EmbeddingStore æ˜¯ LangChain4j çš„å‘é‡å­˜å‚¨æ¥å£ï¼Œæ”¯æŒå¤šç§å®ç°ï¼š</p>

                    <div class="code-wrapper">
                        <div class="code-filename-badge">EmbeddingStoreExample.java</div>
                        <pre class="bg-gray-900 text-gray-100 rounded-lg p-5 overflow-x-auto"><code class="text-sm"><span class="code-keyword">package</span> <span class="text-blue-300">com.example.langchain4j.search</span>;

<span class="code-keyword">import</span> <span class="text-blue-300">dev.langchain4j.data.segment.TextSegment</span>;
<span class="code-keyword">import</span> <span class="text-blue-300">dev.langchain4j.model.embedding.EmbeddingModel</span>;
<span class="code-keyword">import</span> <span class="text-blue-300">dev.langchain4j.store.embedding.EmbeddingStore</span>;
<span class="code-keyword">import</span> <span class="text-blue-300">dev.langchain4j.store.embedding.EmbeddingMatch</span>;
<span class="code-keyword">import</span> <span class="text-blue-300">org.springframework.stereotype.Service</span>;
<span class="code-keyword">import</span> <span class="text-blue-300">jakarta.inject.Inject</span>;

<span class="text-gray-500">/**
 * å‘é‡å­˜å‚¨æœåŠ¡ç¤ºä¾‹
 * æ¼”ç¤º EmbeddingStore çš„åŸºæœ¬ç”¨æ³•
 */</span>
<span class="code-keyword">@Service</span>
<span class="code-keyword">public class</span> <span class="code-class">EmbeddingStoreService</span> {

    <span class="code-keyword">private final</span> <span class="text-blue-300">EmbeddingModel</span> embeddingModel;
    <span class="code-keyword">private final</span> <span class="text-blue-300">EmbeddingStore</span>&lt;<span class="text-blue-300">TextSegment</span>&gt; embeddingStore;

    <span class="code-keyword">@Inject</span>
    <span class="code-keyword">public</span> <span class="code-class">EmbeddingStoreService</span>(<span class="text-blue-300">EmbeddingModel</span> embeddingModel,
                               <span class="text-blue-300">EmbeddingStore</span>&lt;<span class="text-blue-300">TextSegment</span>&gt; embeddingStore) {
        <span class="code-keyword">this</span>.embeddingModel = embeddingModel;
        <span class="code-keyword">this</span>.embeddingStore = embeddingStore;
    }

    <span class="text-gray-500">/**
     * æ·»åŠ å•ä¸ªæ–‡æ¡£å‘é‡
     */</span>
    <span class="code-keyword">public void</span> <span class="code-keyword">addDocument</span>(<span class="text-blue-300">String</span> id, <span class="text-blue-300">String</span> content) {
        <span class="text-blue-300">TextSegment</span> segment = <span class="text-blue-300">TextSegment</span>.<span class="code-string">from</span>(content);
        <span class="text-blue-300">Embedding</span> embedding = embeddingModel.<span class="code-string">embed</span>(segment).<span class="code-string">content</span>();
        
        <span class="text-gray-500">// å°†å‘é‡å­˜å‚¨åˆ° EmbeddingStore</span>
        embeddingStore.<span class="code-string">add</span>(id, segment, embedding);
    }

    <span class="text-gray-500">/**
     * æœç´¢ç›¸ä¼¼æ–‡æ¡£
     */</span>
    <span class="code-keyword">public</span> <span class="text-blue-300">List</span>&lt;<span class="text-blue-300">String</span>&gt; <span class="code-keyword">search</span>(<span class="text-blue-300">String</span> query, <span class="text-blue-300">int</span> maxResults, <span class="text-blue-300">double</span> minScore) {
        <span class="text-gray-500">// 1. å°†æŸ¥è¯¢å‘é‡åŒ–</span>
        <span class="text-blue-300">Embedding</span> queryEmbedding = embeddingModel.<span class="code-string">embed</span>(query).<span class="code-string">content</span>();
        
        <span class="text-gray-500">// 2. æœç´¢æœ€ç›¸ä¼¼çš„å‘é‡</span>
        <span class="text-blue-300">List</span>&lt;<span class="text-blue-300">EmbeddingMatch</span>&lt;<span class="text-blue-300">TextSegment</span>&gt;&gt; matches = 
            embeddingStore.<span class="code-string">findRelevant</span>(queryEmbedding, maxResults, minScore);
        
        <span class="text-gray-500">// 3. è¿”å›åŒ¹é…çš„æ–‡æ¡£å†…å®¹</span>
        <span class="code-keyword">return</span> matches.<span class="code-string">stream</span>()
            .<span class="code-string">map</span>(match -&gt; match.<span class="code-string">embedded</span>().<span class="code-string">text</span>())
            .<span class="code-string">toList</span>();
    }

    <span class="text-gray-500">/**
     * åˆ é™¤æ–‡æ¡£
     */</span>
    <span class="code-keyword">public void</span> <span class="code-keyword">deleteDocument</span>(<span class="text-blue-300">String</span> id) {
        embeddingStore.<span class="code-string">remove</span>(id);
    }
}</code></pre>
                    </div>

                    <h3 class="subsection-title">2.2 æ”¯æŒçš„å‘é‡æ•°æ®åº“</h3>
                    <p class="paragraph">LangChain4j æ”¯æŒå¤šç§å‘é‡æ•°æ®åº“å®ç°ï¼š</p>

                    <table class="w-full text-left border-collapse border border-gray-200 rounded-lg overflow-hidden mb-6">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-sm font-semibold text-gray-500">æ•°æ®åº“</th>
                                <th class="px-6 py-3 text-sm font-semibold text-gray-500">ç±»å‹</th>
                                <th class="px-6 py-3 text-sm font-semibold text-gray-500">è§„æ¨¡</th>
                                <th class="px-6 py-3 text-sm font-semibold text-gray-500">é€‚ç”¨åœºæ™¯</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-gray-200">
                                <td class="px-6 py-3">InMemory EmbeddingStore</td>
                                <td class="px-6 py-3">å†…å­˜</td>
                                <td class="px-6 py-3">å°ï¼ˆ&lt;10Kï¼‰</td>
                                <td class="px-6 py-3">å¼€å‘ã€æµ‹è¯•ã€åŸå‹</td>
                            </tr>
                            <tr class="border-b border-gray-200">
                                <td class="px-6 py-3">PGVector</td>
                                <td class="px-6 py-3">æ•°æ®åº“</td>
                                <td class="px-6 py-3">ä¸­ï¼ˆ10K-1Mï¼‰</td>
                                <td class="px-6 py-3">å°å‹ç”Ÿäº§ã€å·²æœ‰ PostgreSQL</td>
                            </tr>
                            <tr class="border-b border-gray-200">
                                <td class="px-6 py-3">Pinecone</td>
                                <td class="px-6 py-3">äº‘æœåŠ¡</td>
                                <td class="px-6 py-3">å¤§ï¼ˆ&gt;1Mï¼‰</td>
                                <td class="px-6 py-3">å¿«é€ŸåŸå‹ã€ç”Ÿäº§ç¯å¢ƒ</td>
                            </tr>
                            <tr class="border-b border-gray-200">
                                <td class="px-6 py-3">Weaviate</td>
                                <td class="px-6 py-3">å¼€æº/äº‘æœåŠ¡</td>
                                <td class="px-6 py-3">å¤§ï¼ˆ&gt;1Mï¼‰</td>
                                <td class="px-6 py-3">éœ€è¦é«˜çº§åŠŸèƒ½ã€æœ¬åœ°éƒ¨ç½²</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-3">Milvus</td>
                                <td class="px-6 py-3">å¼€æº</td>
                                <td class="px-6 py-3">è¶…å¤§ï¼ˆ&gt;10Mï¼‰</td>
                                <td class="px-6 py-3">å¤§è§„æ¨¡ç”Ÿäº§ã€é«˜æ€§èƒ½éœ€æ±‚</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- ç¬¬3èŠ‚ï¼šå‘é‡æ£€ç´¢å®ç° -->
                <section id="å‘é‡æ£€ç´¢å®ç°" class="mb-16">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">3</span>
                        <h2 class="text-2xl font-bold text-gray-900">å‘é‡æ£€ç´¢å®ç°</h2>
                    </div>

                    <h3 class="subsection-title">3.1 åŸºç¡€æ£€ç´¢</h3>
                    <p class="paragraph">æœ€ç®€å•çš„å‘é‡æ£€ç´¢å®ç°ï¼š</p>

                    <div class="code-wrapper">
                        <div class="code-filename-badge">BasicSearchExample.java</div>
                        <pre class="bg-gray-900 text-gray-100 rounded-lg p-5 overflow-x-auto"><code class="text-sm"><span class="code-keyword">@RestController</span>
<span class="code-keyword">@RequestMapping</span>(<span class="code-string">"/api/search"</span>)
<span class="code-keyword">public class</span> <span class="code-class">SearchController</span> {

    <span class="code-keyword">private final</span> <span class="text-blue-300">EmbeddingStore</span>&lt;<span class="text-blue-300">TextSegment</span>&gt; embeddingStore;
    <span class="code-keyword">private final</span> <span class="text-blue-300">EmbeddingModel</span> embeddingModel;

    <span class="text-gray-500">/**
     * æœç´¢æ¥å£
     */</span>
    <span class="code-keyword">@GetMapping</span>(<span class="code-string">"/documents"</span>)
    <span class="code-keyword">public</span> <span class="text-blue-300">SearchResult</span> <span class="code-keyword">searchDocuments</span>(
            <span class="text-blue-300">@RequestParam</span> <span class="code-string">"query"</span> <span class="text-blue-300">String</span> query,
            <span class="text-blue-300">@RequestParam</span>(<span class="code-string">defaultValue</span> = <span class="code-string">"5"</span>) <span class="text-blue-300">int</span> limit) {
        
        <span class="text-gray-500">// æœç´¢æœ€ç›¸å…³çš„æ–‡æ¡£</span>
        <span class="text-blue-300">List</span>&lt;<span class="text-blue-300">String</span>&gt; results = <span class="code-class">embeddingStoreService</span>.<span class="code-string">search</span>(query, limit, <span class="code-string">0.0</span>);
        
        <span class="code-keyword">return new</span> <span class="code-class">SearchResult</span>(query, results);
    }
}</code></pre>
                    </div>

                    <h3 class="subsection-title">3.2 æ‰¹é‡æ£€ç´¢</h3>
                    <p class="paragraph">æ‰¹é‡æ£€ç´¢å¤šä¸ªæŸ¥è¯¢ï¼š</p>

                    <div class="code-wrapper">
                        <div class="code-filename-badge">BatchSearchExample.java</div>
                        <pre class="bg-gray-900 text-gray-100 rounded-lg p-5 overflow-x-auto"><code class="text-sm"><span class="text-gray-500">// æ‰¹é‡æŸ¥è¯¢å¤šä¸ªé—®é¢˜</span>
<span class="text-blue-300">List</span>&lt;<span class="text-blue-300">String</span>&gt; queries = <span class="text-blue-300">List</span>.<span class="code-string">of</span>(
    <span class="code-string">"å¦‚ä½•ä½¿ç”¨ LangChain4j?"</span>,
    <span class="code-string">"å‘é‡æ£€ç´¢çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"</span>,
    <span class="code-string">"ä»€ä¹ˆæ˜¯ RAGï¼Ÿ"</span>
);

<span class="text-gray-500">// å¹¶å‘æ£€ç´¢æ‰€æœ‰æŸ¥è¯¢</span>
<span class="text-blue-300">Map</span>&lt;<span class="text-blue-300">String</span>, <span class="text-blue-300">List</span>&lt;<span class="text-blue-300">String</span>&gt;&gt; results = <span class="text-blue-300">queries</span>.<span class="code-string">parallelStream</span>()
    .<span class="code-string">collect</span>(
        <span class="code-keyword">Collectors</span>.<span class="code-string">toMap</span>(
            query -&gt; <span class="code-keyword">Map</span>.<span class="code-string">entry</span>(
                query, 
                <span class="code-class">embeddingStoreService</span>.<span class="code-string">search</span>(query, <span class="code-string">5</span>, <span class="code-string">0.0</span>)
            )
        )
    );

<span class="text-gray-500">// æ‰“å°ç»“æœ</span>
results.<span class="code-string">forEach</span>((query, docs) -&gt; {
    <span class="text-blue-300">System</span>.<span class="code-string">out</span>.<span class="code-string">println</span>(<span class="code-string">"Query: "</span> + query);
    docs.<span class="code-string">forEach</span>(doc -&gt; <span class="text-blue-300">System</span>.<span class="code-string">out</span>.<span class="code-string">println</span>(<span class="code-string">"  - "</span> + doc));
});</code></pre>
                    </div>
                </section>

                <!-- ç¬¬4èŠ‚ï¼šæ··åˆæ£€ç´¢ -->
                <section id="æ··åˆæ£€ç´¢" class="mb-16">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">4</span>
                        <h2 class="text-2xl font-bold text-gray-900">æ··åˆæ£€ç´¢</h2>
                    </div>

                    <h3 class="subsection-title">4.1 æ··åˆæ£€ç´¢åŸç†</h3>
                    <p class="paragraph">ç»“åˆå‘é‡æ£€ç´¢å’Œå…³é”®è¯æ£€ç´¢æé«˜å‡†ç¡®æ€§ï¼š</p>

                    <div class="grid-2col">
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <h4 class="font-semibold text-blue-800 mb-2">å‘é‡æ£€ç´¢</h4>
                            <p class="text-blue-700 text-sm mb-2">åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦çš„æœç´¢</p>
                            <ul class="text-blue-600 text-xs space-y-1">
                                <li> ä¼˜åŠ¿ï¼šç†è§£è¯­ä¹‰ã€å¤„ç†å¤šä¹‰è¯</li>
                                <li> åŠ£åŠ¿ï¼šå¯èƒ½é”™è¿‡ç²¾ç¡®åŒ¹é…</li>
                                <li> ä½¿ç”¨ï¼šOpenAI embeddingsã€Cohere</li>
                            </ul>
                        </div>
                        <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                            <h4 class="font-semibold text-green-800 mb-2">å…³é”®è¯æ£€ç´¢</h4>
                            <p class="text-green-700 text-sm mb-2">åŸºäº BM25 ç­‰ç®—æ³•çš„æœç´¢</p>
                            <ul class="text-green-600 text-xs space-y-1">
                                <li> ä¼˜åŠ¿ï¼šç²¾ç¡®åŒ¹é…ã€å¿«é€Ÿ</li>
                                <li> åŠ£åŠ¿ï¼šæ— æ³•ç†è§£è¯­ä¹‰</li>
                                <li> ä½¿ç”¨ï¼šElasticsearchã€Lucene</li>
                            </ul>
                        </div>
                    </div>

                    <h3 class="subsection-title">4.2 ç»“æœèåˆ</h3>
                    <p class="paragraph">å°†ä¸¤ç§æ£€ç´¢ç»“æœåˆå¹¶å¹¶é‡æ–°æ’åºï¼š</p>

                    <div class="bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 mb-8">
                        <h4 class="text-xl font-bold text-white mb-2">èåˆç­–ç•¥</h4>
                        <ul class="text-indigo-100 space-y-3">
                            <li><strong>åŠ æƒå¹³å‡</strong>ï¼švector_results * 0.6 + keyword_results * 0.4</li>
                            <li><strong>å€’æ’èåˆï¼ˆRRFï¼‰</strong>ï¼švector_rank + keyword_rank</li>
                            <li><strong>é‡æ’åº</strong>ï¼šä½¿ç”¨ Cross-Encoder é‡æ–°æ’åº</li>
                            <li><strong>æœ€å°é˜ˆå€¼</strong>ï¼šä¸¤ç§æ–¹æ³•éƒ½è¿”å›ç»“æœæ‰èåˆ</li>
                        </ul>
                    </div>
                </section>

                <!-- ç¬¬5èŠ‚ï¼šæœ€ä½³å®è·µ -->
                <section id="æœ€ä½³å®è·µ" class="mb-16">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">5</span>
                        <h2 class="text-2xl font-bold text-gray-900">æœ€ä½³å®è·µ</h2>
                    </div>

                    <div class="space-y-6">
                        <div class="bg-gray-50 border border-gray-200 rounded-lg p-6">
                            <h4 class="font-semibold text-gray-900 mb-3">ğŸ¯ å‘é‡ä¼˜åŒ–</h4>
                            <ul class="text-gray-700 space-y-2">
                                <li><strong>å½’ä¸€åŒ–å‘é‡</strong>ï¼šä½¿ç”¨ L2 å½’ä¸€åŒ–æé«˜ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—æ•ˆç‡</li>
                                <li><strong>é€‰æ‹©åˆé€‚çš„ç»´åº¦</strong>ï¼šåœ¨ç²¾åº¦å’Œæ€§èƒ½ä¹‹é—´å¹³è¡¡ï¼ˆé€šå¸¸ 768-1536 ç»´ï¼‰</li>
                                <li><strong>æ‰¹é‡å¤„ç†</strong>ï¼šæ‰¹é‡å‘é‡åŒ–å‡å°‘ API è°ƒç”¨æ¬¡æ•°</li>
                                <li><strong>ç¼“å­˜å‘é‡</strong>ï¼šç¼“å­˜å¸¸ç”¨æ–‡æ¡£çš„å‘é‡é¿å…é‡å¤è®¡ç®—</li>
                            </ul>
                        </div>

                        <div class="bg-gray-50 border border-gray-200 rounded-lg p-6">
                            <h4 class="font-semibold text-gray-900 mb-3">âš¡ æ€§èƒ½ä¼˜åŒ–</h4>
                            <ul class="text-gray-700 space-y-2">
                                <li><strong>ç´¢å¼•ä¼˜åŒ–</strong>ï¼šä¸ºå‘é‡æ•°æ®åº“åˆ›å»ºåˆé€‚çš„ç´¢å¼•ï¼ˆå¦‚ HNSWï¼‰</li>
                                <li><strong>è¿æ¥æ± </strong>ï¼šå¤ç”¨æ•°æ®åº“è¿æ¥å‡å°‘è¿æ¥å¼€é”€</li>
                                <li><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šä½¿ç”¨å¼‚æ­¥ API æé«˜å¹¶å‘æ€§èƒ½</li>
                                <li><strong>åˆ†ç‰‡ç­–ç•¥</strong>ï¼šå¤§è§„æ¨¡æ•°æ®é›†ä½¿ç”¨åˆ†ç‰‡æé«˜ååé‡</li>
                            </ul>
                        </div>

                        <div class="bg-gray-50 border border-gray-200 rounded-lg p-6">
                            <h4 class="font-semibold text-gray-900 mb-3">ğŸ” æ£€ç´¢ä¼˜åŒ–</h4>
                            <ul class="text-gray-700 space-y-2">
                                <li><strong>Top-K ä¼˜åŒ–</strong>ï¼šæ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚çš„ K å€¼ï¼ˆé€šå¸¸ 3-10ï¼‰</li>
                                <li><strong>ç›¸ä¼¼åº¦é˜ˆå€¼</strong>ï¼šè®¾ç½®æœ€å°ç›¸ä¼¼åº¦é˜ˆå€¼è¿‡æ»¤ä½è´¨é‡ç»“æœ</li>
                                <li><strong>å…ƒæ•°æ®è¿‡æ»¤</strong>ï¼šä½¿ç”¨æ–‡æ¡£å…ƒæ•°æ®ç²¾ç¡®ç­›é€‰ç»“æœ</li>
                                <li><strong>æŸ¥è¯¢æ‰©å±•</strong>ï¼šä½¿ç”¨ LLM æ‰©å±•æˆ–æ”¹å†™ç”¨æˆ·æŸ¥è¯¢</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- æ€»ç»“ -->
                <div class="bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-8 text-white">
                    <h3 class="text-2xl font-bold mb-4">æœ¬èŠ‚å°ç»“</h3>
                    <p class="mb-4">æœ¬èŠ‚å®Œæ•´ä»‹ç»äº† LangChain4j çš„å‘é‡æ£€ç´¢åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š</p>
                    <ul class="list-disc list-inside space-y-2 mb-6">
                        <li><strong>å‘é‡æ£€ç´¢æ¦‚è¿°</strong>ï¼šå‘é‡åµŒå…¥åŸç†ã€ç›¸ä¼¼åº¦è®¡ç®—ã€è¿”å›ç»“æœ</li>
                        <li><strong>EmbeddingStore æ¥å£</strong>ï¼šæ ¸å¿ƒ API æ–¹æ³•ã€æ”¯æŒçš„å‘é‡æ•°æ®åº“</li>
                        <li><strong>å‘é‡æ£€ç´¢å®ç°</strong>ï¼šåŸºç¡€æ£€ç´¢ã€æ‰¹é‡æ£€ç´¢ã€ä»£ç ç¤ºä¾‹</li>
                        <li><strong>æ··åˆæ£€ç´¢</strong>ï¼šå‘é‡æ£€ç´¢ + å…³é”®è¯æ£€ç´¢ã€ç»“æœèåˆç­–ç•¥</li>
                        <li><strong>æœ€ä½³å®è·µ</strong>ï¼šå‘é‡ä¼˜åŒ–ã€æ€§èƒ½ä¼˜åŒ–ã€æ£€ç´¢ä¼˜åŒ–</li>
                    </ul>
                    <div class="border-t border-indigo-400 pt-6">
                        <p class="text-sm opacity-80 mb-2">ä¸‹ä¸€æ­¥</p>
                        <a href="chat-listeners.html" class="inline-flex items-center gap-2 text-white hover:text-indigo-200 transition-colors">
                            ä¸‹ä¸€ç« ï¼šèŠå¤©ç›‘å¬å™¨ â†’
                        </a>
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>
</html>
