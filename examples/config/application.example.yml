# LangChain4j 统一配置示例
#
# 本文件包含所有 LangChain4j 示例的配置项
# 请根据你的需求调整配置，并复制到你的项目中
#
# 使用方式：
# 1. 复制此文件到你的项目作为 application.yml
# 2. 修改 OPENAI_API_KEY 等环境变量
# 3. 根据需要调整模型参数

server:
  port: 8080

spring:
  application:
    name: langchain4j-examples

langchain4j:
  open-ai:
    # OpenAI API 配置
    api-key: ${OPENAI_API_KEY:}

    # 模型选择
    # gpt-4o: 最新最强大的模型
    # gpt-4o-mini: 性价比高，适合大多数场景
    # gpt-4-turbo: GPT-4 的优化版本
    # gpt-3.5-turbo: 快速且经济的选择
    model-name: ${OPENAI_MODEL:gpt-4o-mini}

    # 温度参数 (0.0 - 1.0)
    # 0.0-0.3: 确定性输出，适合事实性任务
    # 0.3-0.7: 平衡输出，适合一般对话
    # 0.7-1.0: 创造性输出，适合创意任务
    temperature: ${OPENAI_TEMPERATURE:0.7}

    # 最大响应 tokens
    # gpt-4o: 128,000
    # gpt-4o-mini: 128,000
    # gpt-3.5-turbo: 4,096
    max-tokens: ${OPENAI_MAX_TOKENS:2000}

    # 请求超时时间 (Duration 格式)
    # PT30S = 30秒
    # PT60S = 60秒
    # PT2M = 2分钟
    timeout: ${OPENAI_TIMEOUT:PT60S}

    # 重试配置
    max-retries: 3
    max-completions: 1

    # 日志配置（开发环境建议开启）
    log-requests: ${LOG_REQUESTS:true}
    log-responses: ${LOG_RESPONSES:true}

  # Embedding 模型配置（用于 RAG）
  embedding:
    # OpenAI Embedding 模型
    # text-embedding-3-small: 快速、便宜 (1536 维)
    # text-embedding-3-large: 精度更高 (3072 维)
    model-name: ${EMBEDDING_MODEL:text-embedding-3-small}
    dimensions: ${EMBEDDING_DIMENSIONS:1536}
    timeout: PT30S

# 向量数据库配置
vector-store:
  # 类型: in-memory, pinecone, qdrant, weaviate
  type: ${VECTOR_STORE_TYPE:in-memory}

  # Pinecone 配置（如果使用 Pinecone）
  pinecone:
    api-key: ${PINECONE_API_KEY:}
    environment: ${PINECONE_ENVIRONMENT:}
    index: ${PINECONE_INDEX:}
    namespace: ${PINECONE_NAMESPACE:}

  # Qdrant 配置（如果使用 Qdrant）
  qdrant:
    host: ${QDRANT_HOST:localhost}
    port: ${QDRANT_PORT:6333}
    api-key: ${QDRANT_API_KEY:}
    collection-name: ${QDRANT_COLLECTION:langchain4j-docs}

# 日志配置
logging:
  level:
    # LangChain4j 日志级别
    dev.langchain4j: ${LOG_LEVEL:INFO}

    # 应用日志级别
    com.example: ${APP_LOG_LEVEL:INFO}

    # 根日志级别
    root: ${ROOT_LOG_LEVEL:WARN}

  # 日志格式
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
