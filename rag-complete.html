<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>RAGå®Œæ•´æŒ‡å— - LangChain4j å­¦ä¹ æŒ‡å—</title>
    <!-- æ¨¡å—åŒ–CSS -->
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="page-container">
        


<aside class="sidebar">
  <div class="sidebar-content">
    <div class="sidebar-logo">
      <div class="sidebar-logo-icon">
        <svg class="sidebar-logo-svg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
        </svg>
      </div>
      <div>
        <h1 class="sidebar-logo-title">LangChain4j</h1>
        <p class="sidebar-logo-subtitle">å…¥é—¨æŒ‡å—</p>
      </div>
    </div>

    <div class="space-y-6">
      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">å¿«é€Ÿå¼€å§‹</h3>
        <ul class="sidebar-nav-list">
          <li><a href="index.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="index">æ¦‚è§ˆ</a></li>
          <li><a href="getting-started.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="getting-started">ç¯å¢ƒå‡†å¤‡</a></li>
          <li><a href="core-concepts.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="core-concepts">æ ¸å¿ƒæ¦‚å¿µ</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">æ ¸å¿ƒåŠŸèƒ½</h3>
        <ul class="sidebar-nav-list">
          <li><a href="embedding-models.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="embedding-models">Embedding æ¨¡å‹</a></li>
          <li><a href="prompt-templates.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="prompt-templates">Prompt æ¨¡æ¿</a></li>
          <li><a href="output-parsers.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="output-parsers">è¾“å‡ºè§£æ</a></li>
          <li><a href="model-providers.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="model-providers">æ¨¡å‹æä¾›å•†</a></li>
          <li><a href="function-calling-deep.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="function-calling-deep">å‡½æ•°è°ƒç”¨</a></li>
          <li><a href="advanced-features.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="advanced-features">é«˜çº§ç‰¹æ€§</a></li>
          <li><a href="multimodal-full.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="multimodal-full">å¤šæ¨¡æ€</a></li>
        </ul>
      </div>

       <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">RAG å®Œæ•´æŒ‡å—</h3>
        <ul class="sidebar-nav-list">
          <li><a href="rag-intro.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="rag-intro">RAG ç®€ä»‹</a></li>
          <li><a href="rag-setup.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="rag-setup">RAG ç¯å¢ƒæ­å»º</a></li>
          <li><a href="rag-implementation.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="rag-implementation">RAG å®ç°</a></li>
          <li><a href="rag-advanced.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="rag-advanced">RAG é«˜çº§</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">é¡¹ç›®å®æˆ˜</h3>
        <ul class="sidebar-nav-list">
          <li><a href="project-chatbot.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="project-chatbot">èŠå¤©æœºå™¨äºº</a></li>
          <li><a href="project-ai-assistant.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="project-ai-assistant">AIåŠ©æ‰‹</a></li>
          <li><a href="project-rag-kb.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="project-rag-kb">RAGçŸ¥è¯†åº“</a></li>
          <li><a href="practice.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="practice">ç»¼åˆå®æˆ˜</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">æœ€ä½³å®è·µ</h3>
        <ul class="sidebar-nav-list">
          <li><a href="best-practices.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="best-practices">æœ€ä½³å®è·µ</a></li>
          <li><a href="testing-strategies.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="testing-strategies">æµ‹è¯•ç­–ç•¥</a></li>
          <li><a href="performance-tuning.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="performance-tuning">æ€§èƒ½ä¼˜åŒ–</a></li>
          <li><a href="deep-dive.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="deep-dive">æ·±åº¦è§£æ</a></li>
          <li><a href="error-handling.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="error-handling">é”™è¯¯å¤„ç†</a></li>
          <li><a href="moderation-safety.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="moderation-safety">å†…å®¹å®¡æ ¸</a></li>
          <li><a href="troubleshooting.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="troubleshooting">æ•…éšœæ’æŸ¥</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">é¢è¯•å‡†å¤‡</h3>
        <ul class="sidebar-nav-list">
          <li><a href="interview-prep.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="interview-prep">é¢è¯•å‡†å¤‡</a></li>
        </ul>
      </div>

      <div class="sidebar-nav-group">
        <h3 class="sidebar-nav-title">å…¶ä»–</h3>
        <ul class="sidebar-nav-list">
          <li><a href="search.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="search">å‘é‡æœç´¢</a></li>
          <li><a href="chat-listeners.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="chat-listeners">ç›‘å¬å™¨</a></li>
          <li><a href="faq.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="faq">å¸¸è§é—®é¢˜</a></li>
          <li><a href="cost-optimization.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="cost-optimization">æˆæœ¬ä¼˜åŒ–</a></li>
          <li><a href="deployment.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="deployment">éƒ¨ç½²ä¸Šçº¿</a></li>
          <li><a href="integrations.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="integrations">æ¡†æ¶é›†æˆ</a></li>
          <li><a href="examples.html" class="nav-link block px-4 py-2.5 text-sm text-gray-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-md transition-all" data-page="examples">å®æˆ˜ç¤ºä¾‹</a></li>
        </ul>
      </div>
    </div>
  </div>
</aside>





        <main class="flex-1 ml-[280px] px-8 py-12 max-w-7xl mx-auto">>
            <div class="flex items-center gap-3 mb-8 text-sm">
                <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium">RAG</span>
                <span class="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium">æ ¸å¿ƒ</span>
                <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium">~30åˆ†é’Ÿ</span>
            </div>

            <h1 class="text-5xl font-bold text-gray-900 mb-6">RAGå®Œæ•´æŒ‡å—</h1>
            <p class="text-xl text-gray-600 mb-8 leading-relaxed">
                æ£€ç´¢ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰æ˜¯è®©å¤§è¯­è¨€æ¨¡å‹è®¿é—®ç§æœ‰æ•°æ®å’Œé¢†åŸŸçŸ¥è¯†çš„å…³é”®æŠ€æœ¯ã€‚
                æœ¬ç« å°†æ·±å…¥æ¢è®¨RAGçš„æ ¸å¿ƒæ¦‚å¿µã€å®ç°æ­¥éª¤ã€æœ€ä½³å®è·µä»¥åŠå¦‚ä½•ä½¿ç”¨LangChain4jæ„å»ºç”Ÿäº§çº§RAGç³»ç»Ÿã€‚
            </p>

            <div class="bg-gray-50 rounded-lg p-6 mb-10">
                <h2 class="text-lg font-semibold text-gray-900 mb-4">ğŸ“‹ æœ¬ç« ç›®å½•</h2>
                <ol class="space-y-2 text-gray-700">
                    <li class="flex items-start gap-2">
                        <span class="text-indigo-600 font-mono">1.</span>
                        <span><a href="#overview" class="text-indigo-600 hover:underline">RAGåŸºç¡€æ¦‚å¿µ</a></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-indigo-600 font-mono">2.</span>
                        <span><a href="#document-loading" class="text-indigo-600 hover:underline">æ–‡æ¡£åŠ è½½ä¸å¤„ç†</a></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-indigo-600 font-mono">3.</span>
                        <span><a href="#chunking" class="text-indigo-600 hover:underline">æ–‡æœ¬åˆ†å—ç­–ç•¥</a></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-indigo-600 font-mono">4.</span>
                        <span><a href="#embeddings" class="text-indigo-600 hover:underline">Embeddingç”Ÿæˆ</a></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-indigo-600 font-mono">5.</span>
                        <span><a href="#vector-store" class="text-indigo-600 hover:underline">å‘é‡æ•°æ®åº“é›†æˆ</a></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-indigo-600 font-mono">6.</span>
                        <span><a href="#retrieval" class="text-indigo-600 hover:underline">æ£€ç´¢ç®—æ³•ä¸ç­–ç•¥</a></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-indigo-600 font-mono">7.</span>
                        <span><a href="#rag-pipeline" class="text-indigo-600 hover:underline">å®Œæ•´RAGæµæ°´çº¿</a></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-indigo-600 font-mono">8.</span>
                        <span><a href="#advanced-rag" class="text-indigo-600 hover:underline">é«˜çº§RAGæŠ€å·§</a></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-indigo-600 font-mono">9.</span>
                        <span><a href="#best-practices" class="text-indigo-600 hover:underline">æœ€ä½³å®è·µä¸ä¼˜åŒ–</a></span>
                    </li>
                </ol>
            </div>

            <section id="overview" class="mb-16">
                <div class="flex items-center gap-3 mb-6">
        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">1</span>
        <h2 class="text-2xl font-bold text-gray-900">RAGåŸºç¡€æ¦‚å¿µ</h2>
    </div>

                <div class="bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-6 mb-6">
                    <h3 class="subsection-title-sm">ä»€ä¹ˆæ˜¯RAGï¼Ÿ</h3>
                    <p class="text-gray-700 mb-4">
                        <strong>æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRetrieval-Augmented Generationï¼ŒRAGï¼‰</strong>æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œ
                        é€šè¿‡åœ¨å°†ç”¨æˆ·é—®é¢˜å‘é€ç»™LLMä¹‹å‰ï¼Œå…ˆä»å¤–éƒ¨æ•°æ®æºæ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œç„¶åå°†è¿™äº›ä¿¡æ¯æ³¨å…¥åˆ°æç¤ºè¯ä¸­ã€‚
                        è¿™æ ·å¯ä»¥è®©LLMè®¿é—®å®ƒè®­ç»ƒæ•°æ®ä¹‹å¤–çš„ç§æœ‰ã€å®æ—¶æˆ–ç‰¹å®šé¢†åŸŸçš„çŸ¥è¯†ã€‚
                    </p>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6 mb-6 border border-gray-200">
                    <h4 class="font-semibold text-gray-900 mb-4 text-xl">RAGå·¥ä½œæµç¨‹</h4>
                    <div class="space-y-4">
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold flex-shrink-0">1</div>
                            <div class="flex-1">
                                <div class="font-medium text-gray-900">æ–‡æ¡£æ‘„å…¥ï¼ˆIngestionï¼‰</div>
                                <p class="text-gray-600 text-sm mt-1">åŠ è½½åŸå§‹æ–‡æ¡£ï¼Œè¿›è¡Œæ¸…ç†ã€åˆ†å—ã€ç”ŸæˆEmbedding</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center text-white font-bold flex-shrink-0">2</div>
                            <div class="flex-1">
                                <div class="font-medium text-gray-900">å‘é‡å­˜å‚¨ï¼ˆVector Storageï¼‰</div>
                                <p class="text-gray-600 text-sm mt-1">å°†Embeddingå‘é‡å’Œå¯¹åº”çš„æ–‡æœ¬æ®µå­˜å…¥å‘é‡æ•°æ®åº“</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-green-600 flex items-center justify-center text-white font-bold flex-shrink-0">3</div>
                            <div class="flex-1">
                                <div class="font-medium text-gray-900">ç›¸ä¼¼åº¦æ£€ç´¢ï¼ˆRetrievalï¼‰</div>
                                <p class="text-gray-600 text-sm mt-1">å°†ç”¨æˆ·æŸ¥è¯¢è½¬æ¢ä¸ºEmbeddingï¼Œæœç´¢æœ€ç›¸ä¼¼çš„æ–‡æœ¬æ®µ</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="w-10 h-10 rounded-full bg-orange-600 flex items-center justify-center text-white font-bold flex-shrink-0">4</div>
                            <div class="flex-1">
                                <div class="font-medium text-gray-900">å¢å¼ºç”Ÿæˆï¼ˆAugmented Generationï¼‰</div>
                                <p class="text-gray-600 text-sm mt-1">å°†æ£€ç´¢åˆ°çš„ç›¸å…³ä¿¡æ¯æ³¨å…¥Promptï¼Œè®©LLMç”Ÿæˆå‡†ç¡®å›ç­”</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid-2col">
                    <div class="border border-gray-200 rounded-lg p-5 hover:border-indigo-300 transition-colors">
                        <div class="text-2xl mb-3">âœ…</div>
                        <h4 class="font-semibold text-gray-900 mb-2">RAGä¼˜åŠ¿</h4>
                        <ul class="space-y-2 text-gray-700 text-sm">
                            <li> è®¿é—®ç§æœ‰/ä¸“æœ‰æ•°æ®</li>
                            <li> å‡å°‘LLMå¹»è§‰ï¼ˆè™šå‡ä¿¡æ¯ï¼‰</li>
                            <li> å®æ—¶æ›´æ–°çŸ¥è¯†ï¼ˆæ— éœ€é‡æ–°è®­ç»ƒï¼‰</li>
                            <li> å¯è§£é‡Šæ€§å¼ºï¼ˆè¿½æº¯å›ç­”æ¥æºï¼‰</li>
                            <li> æˆæœ¬æ•ˆç›Šé«˜ï¼ˆæ¯”å¾®è°ƒä¾¿å®œï¼‰</li>
                        </ul>
                    </div>
                    <div class="border border-gray-200 rounded-lg p-5 hover:border-indigo-300 transition-colors">
                        <div class="text-2xl mb-3">âš ï¸</div>
                        <h4 class="font-semibold text-gray-900 mb-2">RAGæŒ‘æˆ˜</h4>
                        <ul class="space-y-2 text-gray-700 text-sm">
                            <li> æ£€ç´¢è´¨é‡ç›´æ¥å½±å“å›ç­”è´¨é‡</li>
                            <li> ä¸Šä¸‹æ–‡çª—å£é™åˆ¶ï¼ˆTokenè¶…é™ï¼‰</li>
                            <li> åˆ†å—ç­–ç•¥éœ€è¦è°ƒä¼˜</li>
                            <li> å»¶è¿Ÿå¢åŠ ï¼ˆæ£€ç´¢+ç”Ÿæˆä¸¤æ­¥ï¼‰</li>
                            <li> å¤æ‚é—®é¢˜éš¾ä»¥æ£€ç´¢</li>
                        </ul>
                    </div>
                </div>

                <div class="bg-blue-50 border-l-4 border-blue-500 p-5 rounded-r-lg">
                    <h4 class="font-semibold text-blue-900 mb-2">ğŸ’¡ åº”ç”¨åœºæ™¯</h4>
                    <p class="text-blue-800">
                        RAGé€‚ç”¨äºå„ç§åœºæ™¯ï¼šä¼ä¸šçŸ¥è¯†åº“é—®ç­”ã€æ³•å¾‹æ–‡æ¡£æ£€ç´¢ã€åŒ»ç–—è¯Šæ–­è¾…åŠ©ã€
                        ä»£ç æ–‡æ¡£æœç´¢ã€äº§å“è¯´æ˜ä¹¦æŸ¥è¯¢ã€å­¦æœ¯æ–‡çŒ®åˆ†æã€ä¸ªäººç¬”è®°åŠ©æ‰‹ç­‰ã€‚
                        ä»»ä½•éœ€è¦è®©AIè®¿é—®ç‰¹å®šçŸ¥è¯†åº“çš„åœºæ™¯éƒ½å¯ä»¥ä½¿ç”¨RAGã€‚
                    </p>
                </div>
            </section>

            <section id="document-loading" class="mb-16">
                <div class="flex items-center gap-3 mb-6">
        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">2</span>
        <h2 class="text-2xl font-bold text-gray-900">æ–‡æ¡£åŠ è½½ä¸å¤„ç†</h2>
    </div>

                <div class="bg-gray-50 rounded-lg p-6 mb-6">
                    <h3 class="subsection-title-sm">LangChain4jæ–‡æ¡£åŠ è½½å™¨</h3>
                    <p class="text-gray-700 mb-4">
                        LangChain4jæä¾›äº†å¤šç§DocumentLoaderï¼Œå¯ä»¥æ–¹ä¾¿åœ°ä»å„ç§æ¥æºåŠ è½½æ–‡æ¡£ï¼š
                    </p>
                    <div class="grid-3col">
                        <div class="card">
                            <div class="subsection-title">æ–‡ä»¶ç³»ç»Ÿ</div>
                            <p class="card-description">ä»æœ¬åœ°æ–‡ä»¶ç³»ç»ŸåŠ è½½</p>
                        </div>
                        <div class="card">
                            <div class="subsection-title">äº‘å­˜å‚¨</div>
                            <p class="card-description">S3ã€Azureã€GCSç­‰</p>
                        </div>
                        <div class="card">
                            <div class="subsection-title">ç½‘ç»œçˆ¬è™«</div>
                            <p class="card-description">Seleniumã€Playwright</p>
                        </div>
                        <div class="card">
                            <div class="subsection-title">ä»£ç åº“</div>
                            <p class="card-description">GitHubã€GitLabç­‰</p>
                        </div>
                        <div class="card">
                            <div class="subsection-title">URL</div>
                            <p class="card-description">ç›´æ¥ä»URLåŠ è½½</p>
                        </div>
                        <div class="card">
                            <div class="subsection-title">Classpath</div>
                            <p class="card-description">ä»classpathèµ„æºåŠ è½½</p>
                        </div>
                    </div>
                </div>

                <div class="bg-gray-900 rounded-lg p-5 mb-6 overflow-x-auto">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-xs font-mono text-gray-400 uppercase">Java - FileSystemæ–‡æ¡£åŠ è½½</span>
                        <span class="text-xs text-gray-500">FileSystemDocumentLoader.java</span>
                    </div>
                    <pre class="text-gray-100 text-sm font-mono"><code>import dev.langchain4j.data.document.Document;
import dev.langchain4j.data.document.DocumentLoader;
import dev.langchain4j.data.document.DocumentSplitter;
import dev.langchain4j.data.document.splitter.DocumentByParagraphSplitter;
import dev.langchain4j.data.document.splitter.DocumentByLineSplitter;
import dev.langchain4j.data.segment.TextSegment;
import dev.langchain4j.model.embedding.EmbeddingModel;
import dev.langchain4j.model.openai.OpenAiEmbeddingModel;

import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.List;

public class FileSystemDocumentLoader {

    public static void main(String[] args) throws Exception {
        Path documentsPath = Paths.get("path/to/your/documents");
        DocumentLoader loader = new DocumentLoader(documentsPath);

        System.out.println("æ­£åœ¨åŠ è½½æ–‡æ¡£...");
        List&lt;Document&gt; documents = loader.load();

        System.out.println("åŠ è½½äº† " + documents.size() + " ä¸ªæ–‡æ¡£");
        documents.forEach(doc -> System.out.println(
                " - " + doc.text().substring(0, Math.min(50, doc.text().length())) + "..."
        ));

        DocumentSplitter paragraphSplitter = new DocumentByParagraphSplitter();

        System.out.println("\næŒ‰æ®µè½åˆ†å‰²æ–‡æ¡£...");
        List&lt;TextSegment&gt; segments = paragraphSplitter.split(documents);

        System.out.println("åˆ†å‰²æˆ " + segments.size() + " ä¸ªæ–‡æœ¬æ®µ");
        segments.forEach(seg -> System.out.println(
                " - æ®µè½é•¿åº¦: " + seg.text().length() + " å­—ç¬¦"
        ));

        EmbeddingModel embeddingModel = OpenAiEmbeddingModel.builder()
                .apiKey("your-openai-api-key")
                .modelName("text-embedding-3-small")
                .build();

        System.out.println("\nç”ŸæˆEmbeddings...");
    }
}</code></pre>
                </div>

                <div class="bg-green-50 border-l-4 border-green-500 p-5 rounded-r-lg mb-6">
                    <h4 class="font-semibold text-green-900 mb-2">âœ… æ–‡æ¡£åŠ è½½æœ€ä½³å®è·µ</h4>
                    <ul class="text-green-800 space-y-1 text-sm">
                        <li><strong>å…ƒæ•°æ®ä¸°å¯ŒåŒ–</strong>ï¼šä¿å­˜æ–‡ä»¶è·¯å¾„ã€ä¿®æ”¹æ—¶é—´ã€ä½œè€…ç­‰ï¼Œä¾¿äºåç»­è¿‡æ»¤</li>
                        <li><strong>æ–‡æœ¬æ¸…ç†</strong>ï¼šå»é™¤HTMLæ ‡ç­¾ã€ç‰¹æ®Šå­—ç¬¦ã€å¤šä½™ç©ºç™½</li>
                        <li><strong>ç¼–ç å¤„ç†</strong>ï¼šç»Ÿä¸€ä½¿ç”¨UTF-8ç¼–ç ï¼Œå¤„ç†ä¹±ç </li>
                        <li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šæ•è·å¹¶è®°å½•åŠ è½½å¤±è´¥çš„æ–‡ä»¶</li>
                        <li><strong>å¢é‡æ›´æ–°</strong>ï¼šæ”¯æŒå¢é‡åŠ è½½ï¼Œé¿å…å…¨é‡é‡æ–°åŠ è½½</li>
                    </ul>
                </div>
            </section>

            <section id="chunking" class="mb-16">
                <div class="flex items-center gap-3 mb-6">
        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">3</span>
        <h2 class="text-2xl font-bold text-gray-900">æ–‡æœ¬åˆ†å—ç­–ç•¥</h2>
    </div>

                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-5 mb-6">
                    <h4 class="font-semibold text-yellow-900 mb-2">âš ï¸ ä¸ºä»€ä¹ˆéœ€è¦åˆ†å—ï¼Ÿ</h4>
                    <p class="text-yellow-800 text-sm">
                        LLMçš„ä¸Šä¸‹æ–‡çª—å£æœ‰é™ï¼Œæ— æ³•ä¸€æ¬¡æ€§å¤„ç†æ•´ä¸ªæ–‡æ¡£ã€‚æ­¤å¤–ï¼ŒEmbeddingæ¨¡å‹ä¹Ÿæœ‰é•¿åº¦é™åˆ¶ã€‚
                        åˆ†å—å¯ä»¥è®©æ£€ç´¢æ›´ç²¾ç¡®ï¼ˆæŸ¥è¯¢åªåŒ¹é…ç›¸å…³éƒ¨åˆ†ï¼‰ï¼ŒåŒæ—¶é¿å…è¶…å‡ºTokené™åˆ¶ã€‚
                    </p>
                </div>

                <div class="grid-2col">
                    <div class="border border-gray-200 rounded-lg p-5">
                        <h4 class="font-semibold text-gray-900 mb-2">å›ºå®šå¤§å°åˆ†å—</h4>
                        <p class="text-sm text-gray-600 mb-3">æŒ‰å›ºå®šå­—ç¬¦æ•°æˆ–Tokenæ•°åˆ†å‰²</p>
                        <ul class="space-y-1 text-gray-700 text-sm">
                            <li> ç®€å•å¿«é€Ÿ</li>
                            <li> å¯èƒ½åœ¨å¥å­ä¸­é—´åˆ‡æ–­</li>
                            <li> é€‚åˆï¼šä»£ç ã€æ—¥å¿—æ–‡ä»¶</li>
                        </ul>
                    </div>
                    <div class="border border-gray-200 rounded-lg p-5">
                        <h4 class="font-semibold text-gray-900 mb-2">æ®µè½/ç« èŠ‚åˆ†å—</h4>
                        <p class="text-sm text-gray-600 mb-3">æŒ‰æ®µè½ã€ç« èŠ‚ç­‰è‡ªç„¶å•ä½åˆ†å‰²</p>
                        <ul class="space-y-1 text-gray-700 text-sm">
                            <li> ä¿æŒè¯­ä¹‰å®Œæ•´</li>
                            <li> é€‚åˆï¼šæ–‡ç« ã€æ–‡æ¡£</li>
                            <li> å¯èƒ½å¯¼è‡´å—å¤§å°ä¸å‡</li>
                        </ul>
                    </div>
                    <div class="border border-gray-200 rounded-lg p-5">
                        <h4 class="font-semibold text-gray-900 mb-2">é‡å åˆ†å—</h4>
                        <p class="text-sm text-gray-600 mb-3">å—ä¹‹é—´æœ‰é‡å éƒ¨åˆ†</p>
                        <ul class="space-y-1 text-gray-700 text-sm">
                            <li> å‡å°‘ä¿¡æ¯ä¸¢å¤±</li>
                            <li> æé«˜æ£€ç´¢å¬å›ç‡</li>
                            <li> å¢åŠ Tokenæ¶ˆè€—</li>
                        </ul>
                    </div>
                    <div class="border border-gray-200 rounded-lg p-5">
                        <h4 class="font-semibold text-gray-900 mb-2">è¯­ä¹‰åˆ†å—</h4>
                        <p class="text-sm text-gray-600 mb-3">æ ¹æ®è¯­ä¹‰ç›¸ä¼¼åº¦æ™ºèƒ½åˆ†å—</p>
                        <ul class="space-y-1 text-gray-700 text-sm">
                            <li> è´¨é‡æœ€ä½³</li>
                            <li> éœ€è¦é¢å¤–è®¡ç®—</li>
                            <li> é€Ÿåº¦è¾ƒæ…¢</li>
                        </ul>
                    </div>
                </div>

                <div class="bg-gray-900 rounded-lg p-5 mb-6 overflow-x-auto">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-xs font-mono text-gray-400 uppercase">Java - æ–‡æœ¬åˆ†å—ç­–ç•¥</span>
                        <span class="text-xs text-gray-500">ChunkingStrategies.java</span>
                    </div>
                    <pre class="text-gray-100 text-sm font-mono"><code>import dev.langchain4j.data.document.Document;
import dev.langchain4j.data.document.DocumentSplitter;
import dev.langchain4j.data.document.splitter.DocumentByCharacterSplitter;
import dev.langchain4j.data.document.splitter.DocumentByLineSplitter;
import dev.langchain4j.data.document.splitter.DocumentByParagraphSplitter;
import dev.langchain4j.data.segment.TextSegment;

import java.util.List;

public class ChunkingStrategies {

    public static void main(String[] args) {
        String sampleText = """
            LangChain4jæ˜¯ä¸€ä¸ªå¼ºå¤§çš„Javaåº“ï¼Œ
            å®ƒç®€åŒ–äº†å°†å¤§è¯­è¨€æ¨¡å‹é›†æˆåˆ°Javaåº”ç”¨ä¸­çš„è¿‡ç¨‹ã€‚
            æ”¯æŒå¤šç§æ¨¡å‹æä¾›å•†å’Œå‘é‡æ•°æ®åº“ã€‚
            å¯ä»¥è½»æ¾å®ç°RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ç³»ç»Ÿã€‚
            åœ¨ä¼ä¸šåº”ç”¨ä¸­è¡¨ç°ä¼˜å¼‚ã€‚
            """;

        System.out.println("=== ç­–ç•¥1: å›ºå®šå­—ç¬¦æ•°åˆ†å— ===");
        DocumentSplitter charSplitter = new DocumentByCharacterSplitter(100, 10);
        List&lt;TextSegment&gt; charChunks = charSplitter.split(
                Document.from(sampleText)
        );

        System.out.println("åˆ†å—æ•°: " + charChunks.size());
        charChunks.forEach((chunk, index) -> System.out.printf(
                "å— %d (é•¿åº¦:%d): %s...%n",
                index + 1, chunk.text().length(), chunk.text().substring(0, 50)
        ));

        System.out.println("\n=== ç­–ç•¥2: æŒ‰æ®µè½åˆ†å— ===");
        DocumentSplitter paragraphSplitter = new DocumentByParagraphSplitter();
        List&lt;TextSegment&gt; paragraphChunks = paragraphSplitter.split(
                Document.from(sampleText)
        );

        System.out.println("åˆ†å—æ•°: " + paragraphChunks.size());
        paragraphChunks.forEach((chunk, index) -> System.out.printf(
                "å— %d (é•¿åº¦:%d): %s%n",
                index + 1, chunk.text().length(), chunk.text()
        ));

        System.out.println("\n=== ç­–ç•¥3: æŒ‰è¡Œåˆ†å— ===");
        DocumentSplitter lineSplitter = new DocumentByLineSplitter();
        List&lt;TextSegment&gt; lineChunks = lineSplitter.split(
                Document.from(sampleText)
        );

        System.out.println("åˆ†å—æ•°: " + lineChunks.size());
        lineChunks.forEach((chunk, index) -> System.out.printf(
                "å— %d: %s%n",
                index + 1, chunk.text()
        ));
    }
}</code></pre>
                </div>

                <div class="bg-indigo-50 border-l-4 border-indigo-500 p-5 rounded-r-lg">
                    <h4 class="font-semibold text-indigo-900 mb-2">ğŸ’¡ åˆ†å—ç­–ç•¥é€‰æ‹©æŒ‡å—</h4>
                    <table class="w-full text-sm text-indigo-800">
                        <thead>
                            <tr class="border-b border-indigo-300">
                                <th class="text-left py-2">åœºæ™¯</th>
                                <th class="text-left py-2">æ¨èç­–ç•¥</th>
                                <th class="text-left py-2">å—å¤§å°</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-indigo-200">
                                <td class="py-2">æŠ€æœ¯æ–‡æ¡£</td>
                                <td class="py-2">æ®µè½ + é‡å </td>
                                <td class="py-2">500-1000</td>
                            </tr>
                            <tr class="border-b border-indigo-200">
                                <td class="py-2">å­¦æœ¯è®ºæ–‡</td>
                                <td class="py-2">ç« èŠ‚ + é‡å </td>
                                <td class="py-2">1000-2000</td>
                            </tr>
                            <tr class="border-b border-indigo-200">
                                <td class="py-2">ä»£ç æ–‡ä»¶</td>
                                <td class="py-2">å‡½æ•°/ç±» + é‡å </td>
                                <td class="py-2">200-500</td>
                            </tr>
                            <tr>
                                <td class="py-2">èŠå¤©è®°å½•</td>
                                <td class="py-2">å¯¹è¯ + é‡å </td>
                                <td class="py-2">300-800</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="embeddings" class="mb-16">
                <div class="flex items-center gap-3 mb-6">
        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">4</span>
        <h2 class="text-2xl font-bold text-gray-900">Embeddingç”Ÿæˆ</h2>
    </div>

                <div class="bg-gray-50 rounded-lg p-6 mb-6">
                    <h3 class="subsection-title-sm">ä»€ä¹ˆæ˜¯Embeddingï¼Ÿ</h3>
                    <p class="text-gray-700 mb-4">
                        <strong>Embeddingï¼ˆåµŒå…¥ï¼‰</strong>æ˜¯å°†æ–‡æœ¬ã€å›¾åƒç­‰æ•°æ®è½¬æ¢ä¸ºæ•°å€¼å‘é‡çš„è¿‡ç¨‹ã€‚
                        è¿™äº›å‘é‡åœ¨é«˜ç»´ç©ºé—´ä¸­ä¿ç•™äº†æ•°æ®çš„è¯­ä¹‰ä¿¡æ¯ï¼Œç›¸ä¼¼çš„æ–‡æœ¬åœ¨å‘é‡ç©ºé—´ä¸­è·ç¦»è¾ƒè¿‘ã€‚
                        Embeddingæ˜¯å‘é‡æ£€ç´¢çš„æ ¸å¿ƒï¼Œä½¿å¾—æœºå™¨å¯ä»¥è®¡ç®—è¯­ä¹‰ç›¸ä¼¼åº¦ã€‚
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200">
                            <div class="font-semibold text-gray-900 mb-2">æ–‡æœ¬å‘é‡</div>
                            <p class="text-sm text-gray-600">å°†å¥å­/æ®µè½è½¬æ¢ä¸ºæ•°å€¼å‘é‡</p>
                        </div>
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200">
                            <div class="font-semibold text-gray-900 mb-2">è¯­ä¹‰ç›¸ä¼¼åº¦</div>
                            <p class="text-sm text-gray-600">ç›¸ä¼¼æ¦‚å¿µçš„å‘é‡è·ç¦»æ›´è¿‘</p>
                        </div>
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200">
                            <div class="font-semibold text-gray-900 mb-2">å‘é‡æ£€ç´¢</div>
                            <p class="text-sm text-gray-600">é€šè¿‡è·ç¦»è®¡ç®—æ‰¾åˆ°æœ€ç›¸å…³å†…å®¹</p>
                        </div>
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200">
                            <div class="font-semibold text-gray-900 mb-2">å¤šè¯­è¨€æ”¯æŒ</div>
                            <p class="text-sm text-gray-600">è·¨è¯­è¨€è¯­ä¹‰å¯¹é½</p>
                        </div>
                    </div>
                </div>

                <div class="bg-gray-900 rounded-lg p-5 mb-6 overflow-x-auto">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-xs font-mono text-gray-400 uppercase">Java - Embeddingç”Ÿæˆ</span>
                        <span class="text-xs text-gray-500">EmbeddingGeneration.java</span>
                    </div>
                    <pre class="text-gray-100 text-sm font-mono"><code>import dev.langchain4j.data.segment.TextSegment;
import dev.langchain4j.data.embedding.Embedding;
import dev.langchain4j.model.embedding.EmbeddingModel;
import dev.langchain4j.model.openai.OpenAiEmbeddingModel;

import java.util.List;
import java.util.ArrayList;

public class EmbeddingGeneration {

    public static void main(String[] args) {
        EmbeddingModel embeddingModel = OpenAiEmbeddingModel.builder()
                .apiKey("your-openai-api-key")
                .modelName("text-embedding-3-small")
                .build();

        List&lt;TextSegment&gt; segments = createSampleSegments();

        System.out.println("ä¸º " + segments.size() + " ä¸ªæ–‡æœ¬æ®µç”ŸæˆEmbeddings...");

        List&lt;Embedding&gt; embeddings = embeddingModel.embedAll(segments);

        System.out.println("\nç”Ÿæˆå®Œæˆï¼Embeddingä¿¡æ¯:");
        for (int i = 0; i &lt; embeddings.size(); i++) {
            Embedding embedding = embeddings.get(i);
            TextSegment segment = segments.get(i);

            System.out.printf("\n=== æ–‡æœ¬æ®µ %d ===%n", i + 1);
            System.out.println("æ–‡æœ¬: " + segment.text());
            System.out.println("å‘é‡ç»´åº¦: " + embedding.vector().length);
        }
    }

    private static List&lt;TextSegment&gt; createSampleSegments() {
        List&lt;TextSegment&gt; segments = new ArrayList&lt;&gt;();

        segments.add(TextSegment.from(
                "LangChain4jæ˜¯ä¸€ä¸ªJavaåº“ï¼Œç”¨äºç®€åŒ–å¤§è¯­è¨€æ¨¡å‹çš„é›†æˆã€‚"
        ));

        segments.add(TextSegment.from(
                "å®ƒæ”¯æŒå¤šç§æ¨¡å‹æä¾›å•†ï¼ŒåŒ…æ‹¬OpenAIã€Googleã€Hugging Faceç­‰ã€‚"
        ));

        segments.add(TextSegment.from(
                "å¼€å‘è€…å¯ä»¥ä½¿ç”¨LangChain4jå¿«é€Ÿæ„å»ºAIåº”ç”¨ã€‚"
        ));

        segments.add(TextSegment.from(
                "è¯¥æ¡†æ¶æä¾›ç»Ÿä¸€çš„APIï¼Œé¿å…å­¦ä¹ ç‰¹å®šä¾›åº”å•†çš„APIã€‚"
        ));

        segments.add(TextSegment.from(
                "LangChain4jè¢«å¹¿æ³›åº”ç”¨äºä¼ä¸šçº§AIåº”ç”¨ä¸­ã€‚"
        ));

        return segments;
    }
}</code></pre>
                </div>

                <h3 class="text-2xl font-semibold text-gray-900 mb-4">4.2 ä¸åŒæ¨¡å‹å¯¹æ¯”</h3>
                <div class="bg-white rounded-lg shadow-md p-6 mb-6 border border-gray-200">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b border-gray-300 bg-gray-50">
                                <th class="text-left py-3 font-semibold">æ¨¡å‹</th>
                                <th class="text-left py-3 font-semibold">ç»´åº¦</th>
                                <th class="text-left py-3 font-semibold">é€Ÿåº¦</th>
                                <th class="text-left py-3 font-semibold">è´¨é‡</th>
                                <th class="text-left py-3 font-semibold">æˆæœ¬</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-gray-200">
                                <td class="py-3 font-medium">text-embedding-3-small</td>
                                <td class="py-3">1536</td>
                                <td class="py-3 text-green-600">âš¡ å¿«</td>
                                <td class="py-3">ä¸­ç­‰</td>
                                <td class="py-3 text-green-600">$0.00002/1K tokens</td>
                            </tr>
                            <tr class="border-b border-gray-200">
                                <td class="py-3 font-medium">text-embedding-3-large</td>
                                <td class="py-3">3072</td>
                                <td class="py-3">âš¡</td>
                                <td class="py-3 text-green-600">ğŸŒŸ é«˜</td>
                                <td class="py-3 text-yellow-600">$0.00013/1K tokens</td>
                            </tr>
                            <tr class="border-b border-gray-200">
                                <td class="py-3 font-medium">text-embedding-ada-002</td>
                                <td class="py-3">1536</td>
                                <td class="py-3 text-green-600">âš¡âš¡ å¿«</td>
                                <td class="py-3">è¾ƒä½</td>
                                <td class="py-3 text-green-600">$0.0001/1K tokens</td>
                            </tr>
                            <tr>
                                <td class="py-3 font-medium">multilingual-e5-large</td>
                                <td class="py-3">1024</td>
                                <td class="py-3">âš¡</td>
                                <td class="py-3">é«˜ï¼ˆå¤šè¯­è¨€ï¼‰</td>
                                <td class="py-3 text-green-600">$0.00002/1K tokens</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="vector-store" class="mb-16">
                <div class="flex items-center gap-3 mb-6">
        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">5</span>
        <h2 class="text-2xl font-bold text-gray-900">å‘é‡æ•°æ®åº“é›†æˆ</h2>
    </div>

                <div class="bg-gray-50 rounded-lg p-6 mb-6">
                    <h3 class="subsection-title-sm">LangChain4jæ”¯æŒçš„å‘é‡æ•°æ®åº“</h3>
                    <p class="text-gray-700 mb-4">
                        LangChain4jæä¾›äº†ç»Ÿä¸€çš„EmbeddingStoreæ¥å£ï¼Œæ”¯æŒ30+ç§å‘é‡æ•°æ®åº“ï¼š
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200">
                            <div class="font-semibold text-gray-900 mb-2">In-memory</div>
                            <p class="text-sm text-gray-600">å†…å­˜å­˜å‚¨ï¼ˆåŸå‹ç”¨ï¼‰</p>
                        </div>
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200">
                            <div class="font-semibold text-gray-900 mb-2">PGVector</div>
                            <p class="text-sm text-gray-600">PostgreSQL</p>
                        </div>
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200">
                            <div class="font-semibold text-gray-900 mb-2">Milvus</div>
                            <p class="text-sm text-gray-600">å¼€æºå‘é‡æ•°æ®åº“</p>
                        </div>
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200">
                            <div class="font-semibold text-gray-900 mb-2">Pinecone</div>
                            <p class="text-sm text-gray-600">æ‰˜ç®¡å‘é‡æ•°æ®åº“</p>
                        </div>
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200">
                            <div class="font-semibold text-gray-900 mb-2">Chroma</div>
                            <p class="text-sm text-gray-600">è½»é‡å‘é‡æ•°æ®åº“</p>
                        </div>
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200">
                            <div class="font-semibold text-gray-900 mb-2">Qdrant</div>
                            <p class="text-sm text-gray-600">é«˜æ€§èƒ½å‘é‡æ•°æ®åº“</p>
                        </div>
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200">
                            <div class="font-semibold text-gray-900 mb-2">Elasticsearch</div>
                            <p class="text-sm text-gray-600">ä¼ä¸šæœç´¢å¼•æ“</p>
                        </div>
                        <div class="bg-white rounded-lg p-4 shadow-sm border border-gray-200">
                            <div class="font-semibold text-gray-900 mb-2">Redis</div>
                            <p class="text-sm text-gray-600">ç¼“å­˜+å‘é‡</p>
                        </div>
                    </div>
                </div>

                <div class="bg-gray-900 rounded-lg p-5 mb-6 overflow-x-auto">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-xs font-mono text-gray-400 uppercase">Java - In-memoryå­˜å‚¨</span>
                        <span class="text-xs text-gray-500">InMemoryStoreExample.java</span>
                    </div>
                    <pre class="text-gray-100 text-sm font-mono"><code>import dev.langchain4j.data.embedding.Embedding;
import dev.langchain4j.data.segment.TextSegment;
import dev.langchain4j.model.embedding.EmbeddingModel;
import dev.langchain4j.model.openai.OpenAiEmbeddingModel;
import dev.langchain4j.store.embedding.EmbeddingStore;
import dev.langchain4j.store.embedding.inmemory.InMemoryEmbeddingStore;
import dev.langchain4j.store.embedding.filter.Filter;

import java.util.List;
import java.util.ArrayList;

public class InMemoryStoreExample {

    public static void main(String[] args) {
        EmbeddingStore&lt;TextSegment&gt; embeddingStore = new InMemoryEmbeddingStore&lt;&gt;();

        EmbeddingModel embeddingModel = OpenAiEmbeddingModel.builder()
                .apiKey("your-api-key")
                .modelName("text-embedding-3-small")
                .build();

        List&lt;TextSegment&gt; segments = createSegments();

        System.out.println("ç”Ÿæˆå¹¶å­˜å‚¨Embeddings...");
        for (TextSegment segment : segments) {
            Embedding embedding = embeddingModel.embed(segment.text()).content();

            String id = embeddingStore.add(
                    embedding,
                    segment,
                    Filter.from("category", "tech")
                           .put("language", "zh-CN")
            ).id();

            System.out.println("å·²å­˜å‚¨: " + id + " - " + segment.text().substring(0, 30) + "...");
        }

        System.out.println("\næ‰§è¡Œç›¸ä¼¼åº¦æœç´¢...");
        List&lt;EmbeddingMatch&lt;TextSegment&gt;&gt; results = embeddingStore.findRelevant(
                "Javaæ¡†æ¶",
                2,
                0.7
        );

        System.out.println("æœç´¢ç»“æœ:");
        for (EmbeddingMatch&lt;TextSegment&gt; match : results) {
            System.out.printf(
                    "  ç›¸ä¼¼åº¦: %.3f | æ–‡æœ¬: %s%n",
                    match.score(),
                    match.embedded().text().substring(0, 50) + "..."
            );
        }

        System.out.println("\næŒ‰å…ƒæ•°æ®è¿‡æ»¤...");
        Filter filter = Filter.metadataKey("category").isEqualTo("tech");
        List&lt;EmbeddingMatch&lt;TextSegment&gt;&gt; filteredResults = embeddingStore.findRelevant(
                "Javaå¼€å‘",
                3,
                0.6,
                filter
        );

        System.out.println("è¿‡æ»¤åç»“æœæ•°: " + filteredResults.size());
    }

    private static List&lt;TextSegment&gt; createSegments() {
        List&lt;TextSegment&gt; segments = new ArrayList&lt;&gt;();
        segments.add(TextSegment.from("LangChain4jæ˜¯Javaçš„å¼€æºAIæ¡†æ¶"));
        segments.add(TextSegment.from("å®ƒç®€åŒ–äº†LLMçš„é›†æˆå·¥ä½œ"));
        segments.add(TextSegment.from("æ”¯æŒå¤šç§æ¨¡å‹æä¾›å•†"));
        segments.add(TextSegment.from("æä¾›ç»Ÿä¸€çš„APIæ¥å£"));
        segments.add(TextSegment.from("é€‚ç”¨äºä¼ä¸šçº§åº”ç”¨"));
        return segments;
    }
}</code></pre>
                </div>

                <div class="bg-green-50 border-l-4 border-green-500 p-5 rounded-r-lg">
                    <h4 class="font-semibold text-green-900 mb-2">âœ… å‘é‡æ•°æ®åº“é€‰æ‹©å»ºè®®</h4>
                    <ul class="text-green-800 space-y-1 text-sm">
                        <li><strong>å¼€å‘/åŸå‹</strong>ï¼šä½¿ç”¨InMemoryEmbeddingStore</li>
                        <li><strong>å°è§„æ¨¡ç”Ÿäº§</strong>ï¼šPGVectorï¼ˆPostgreSQLæ‰©å±•ï¼‰æˆ–Redis</li>
                        <li><strong>ä¸­ç­‰è§„æ¨¡</strong>ï¼šChromaã€Qdrantã€Weaviate</li>
                        <li><strong>å¤§è§„æ¨¡ç”Ÿäº§</strong>ï¼šPineconeã€Milvusã€Elasticsearch</li>
                        <li><strong>è¯„ä¼°å› ç´ </strong>ï¼šæ€§èƒ½ã€æˆæœ¬ã€è¿ç»´å¤æ‚åº¦ã€ç¤¾åŒºæ”¯æŒ</li>
                    </ul>
                </div>
            </section>

            <section id="retrieval" class="mb-16">
                <div class="flex items-center gap-3 mb-6">
        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">6</span>
        <h2 class="text-2xl font-bold text-gray-900">æ£€ç´¢ç®—æ³•ä¸ç­–ç•¥</h2>
    </div>

                <div class="bg-gray-50 rounded-lg p-6 mb-6">
                    <h3 class="subsection-title-sm">æ£€ç´¢è´¨é‡å†³å®šRAGæ•ˆæœ</h3>
                    <p class="text-gray-700 mb-4">
                        æ£€ç´¢æ˜¯RAGç³»ç»Ÿçš„æ ¸å¿ƒï¼Œé«˜è´¨é‡çš„æ£€ç´¢æ‰èƒ½è®©LLMç”Ÿæˆå‡†ç¡®å›ç­”ã€‚
                        LangChain4jæä¾›äº†ContentRetrieveræ¥å£å’Œå¤šç§æ£€ç´¢ç­–ç•¥ã€‚
                    </p>
                </div>

                <div class="bg-gray-900 rounded-lg p-5 mb-6 overflow-x-auto">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-xs font-mono text-gray-400 uppercase">Java - å‘é‡æ£€ç´¢</span>
                        <span class="text-xs text-gray-500">VectorRetrieverExample.java</span>
                    </div>
                    <pre class="text-gray-100 text-sm font-mono"><code>import dev.langchain4j.data.segment.TextSegment;
import dev.langchain4j.model.chat.ChatLanguageModel;
import dev.langchain4j.model.openai.OpenAiChatModel;
import dev.langchain4j.rag.content.retriever.ContentRetriever;
import dev.langchain4j.rag.content.retriever.EmbeddingStoreContentRetriever;
import dev.langchain4j.rag.query.Query;
import dev.langchain4j.store.embedding.EmbeddingStore;
import dev.langchain4j.store.embedding.inmemory.InMemoryEmbeddingStore;
import dev.langchain4j.store.embedding.filter.Filter;

import java.util.List;

public class VectorRetrieverExample {

    public static void main(String[] args) {
        EmbeddingStore&lt;TextSegment&gt; embeddingStore = prepareEmbeddingStore();
        dev.langchain4j.model.embedding.EmbeddingModel embeddingModel = OpenAiEmbeddingModel.builder()
                .apiKey("your-api-key")
                .modelName("text-embedding-3-small")
                .build();

        ContentRetriever retriever = EmbeddingStoreContentRetriever.builder()
                .embeddingStore(embeddingStore)
                .embeddingModel(embeddingModel)
                .maxResults(5)
                .minScore(0.6)
                .build();

        String userQuery = "å¦‚ä½•ä½¿ç”¨LangChain4jæ„å»ºRAGç³»ç»Ÿï¼Ÿ";
        System.out.println("ç”¨æˆ·æŸ¥è¯¢: " + userQuery);
        System.out.println("\næ£€ç´¢ç›¸å…³å†…å®¹...");

        List&lt;TextSegment&gt; relevantSegments = retriever.retrieve(
                Query.from(userQuery)
        );

        System.out.println("\næ£€ç´¢åˆ° " + relevantSegments.size() + " ä¸ªç›¸å…³ç‰‡æ®µ:");
        for (int i = 0; i &lt; relevantSegments.size(); i++) {
            TextSegment segment = relevantSegments.get(i);
            System.out.printf("\n=== ç»“æœ %d ===%n", i + 1);
            System.out.println("æ–‡æœ¬: " + segment.text());
            if (segment.metadata() != null) {
                System.out.println("å…ƒæ•°æ®: " + segment.metadata().asMap());
            }
        }
    }

    private static EmbeddingStore&lt;TextSegment&gt; prepareEmbeddingStore() {
        EmbeddingStore&lt;TextSegment&gt; store = new InMemoryEmbeddingStore&lt;&gt;();
        dev.langchain4j.model.embedding.EmbeddingModel model = OpenAiEmbeddingModel.builder()
                .apiKey("your-api-key")
                .modelName("text-embedding-3-small")
                .build();

        List&lt;TextSegment&gt; segments = createSampleSegments();

        for (TextSegment segment : segments) {
            store.add(model.embed(segment.text()).content(), segment);
        }

        return store;
    }

    private static List&lt;TextSegment&gt; createSampleSegments() {
        return List.of(
                TextSegment.from("LangChain4jæ˜¯Javaçš„å¼€æºAIæ¡†æ¶").with("category", "tech"),
                TextSegment.from("æ”¯æŒå¤šç§æ¨¡å‹æä¾›å•†").with("category", "tech"),
                TextSegment.from("æä¾›ç»Ÿä¸€çš„APIæ¥å£").with("category", "tech"),
                TextSegment.from("é€‚ç”¨äºä¼ä¸šçº§åº”ç”¨").with("category", "tech")
        );
    }
}</code></pre>
                </div>

                <div class="bg-purple-50 border-l-4 border-purple-500 p-5 rounded-r-lg">
                    <h4 class="font-semibold text-purple-900 mb-2">ğŸ’¡ æ£€ç´¢ä¼˜åŒ–æŠ€å·§</h4>
                    <ul class="text-purple-800 space-y-2 text-sm">
                        <li><strong>æŸ¥è¯¢æ‰©å±•</strong>ï¼šå°†ç”¨æˆ·æŸ¥è¯¢é‡å†™ä¸ºæ›´ä¸°å¯Œçš„è¡¨è¾¾</li>
                        <li><strong>å…ƒæ•°æ®è¿‡æ»¤</strong>ï¼šæå‰è¿‡æ»¤ä¸ç›¸å…³çš„å†…å®¹</li>
                        <li><strong>é˜ˆå€¼è°ƒæ•´</strong>ï¼šæ ¹æ®åé¦ˆåŠ¨æ€è°ƒæ•´ç›¸ä¼¼åº¦é˜ˆå€¼</li>
                        <li><strong>ç»“æœå»é‡</strong>ï¼šåˆå¹¶é‡å¤æˆ–é«˜åº¦ç›¸ä¼¼çš„ç»“æœ</li>
                        <li><strong>ä¸Šä¸‹æ–‡èåˆ</strong>ï¼šå°†ä¸åŒæ£€ç´¢ç»“æœçš„ä¿¡æ¯æ™ºèƒ½ç»„åˆ</li>
                    </ul>
                </div>
            </section>

            <section id="rag-pipeline" class="mb-16">
                <div class="flex items-center gap-3 mb-6">
        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">7</span>
        <h2 class="text-2xl font-bold text-gray-900">å®Œæ•´RAGæµæ°´çº¿</h2>
    </div>

                <div class="bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 mb-6">
                    <h3 class="subsection-title-sm">ç«¯åˆ°ç«¯RAGå®ç°</h3>
                    <p class="text-gray-700 mb-4">
                        ç°åœ¨è®©æˆ‘ä»¬å°†å‰é¢çš„ç»„ä»¶ç»„åˆèµ·æ¥ï¼Œæ„å»ºä¸€ä¸ªå®Œæ•´çš„RAGç³»ç»Ÿã€‚
                        è¯¥ç³»ç»Ÿå°†ï¼š
                    </p>
                    <ul class="space-y-2 text-gray-700">
                        <li class="flex items-start gap-2">
                            <span class="text-green-600 font-bold">1.</span>
                            <span>ä»æ–‡ä»¶ç³»ç»ŸåŠ è½½æ–‡æ¡£</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-600 font-bold">2.</span>
                            <span>å°†æ–‡æ¡£åˆ†å‰²æˆæ®µè½</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-600 font-bold">3.</span>
                            <span>ç”ŸæˆEmbeddingå‘é‡</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-600 font-bold">4.</span>
                            <span>å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-600 font-bold">5.</span>
                            <span>æ£€ç´¢ç›¸å…³å†…å®¹</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-600 font-bold">6.</span>
                            <span>ä½¿ç”¨æ£€ç´¢ä¸Šä¸‹æ–‡ç”Ÿæˆå›ç­”</span>
                        </li>
                    </ul>
                </div>

                <div class="bg-gray-900 rounded-lg p-5 mb-6 overflow-x-auto">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-xs font-mono text-gray-400 uppercase">Java - å®Œæ•´RAGç³»ç»Ÿ</span>
                        <span class="text-xs text-gray-500">CompleteRAGSystem.java</span>
                    </div>
                    <pre class="text-gray-100 text-sm font-mono"><code>import dev.langchain4j.data.document.Document;
import dev.langchain4j.data.document.DocumentLoader;
import dev.langchain4j.data.document.DocumentSplitter;
import dev.langchain4j.data.document.splitter.DocumentByParagraphSplitter;
import dev.langchain4j.data.segment.TextSegment;
import dev.langchain4j.data.message.AiMessage;
import dev.langchain4j.data.message.UserMessage;
import dev.langchain4j.model.chat.ChatLanguageModel;
import dev.langchain4j.model.openai.OpenAiChatModel;
import dev.langchain4j.model.openai.OpenAiChatModelName;
import dev.langchain4j.rag.content.retriever.ContentRetriever;
import dev.langchain4j.rag.content.retriever.EmbeddingStoreContentRetriever;
import dev.langchain4j.rag.query.Query;
import dev.langchain4j.store.embedding.EmbeddingStore;
import dev.langchain4j.store.embedding.inmemory.InMemoryEmbeddingStore;
import dev.langchain4j.model.embedding.EmbeddingModel;

import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.List;

public class CompleteRAGSystem {

    private static final String DOCUMENT_PATH = "path/to/documents";
    private static final String OPENAI_API_KEY = "your-api-key";

    public static void main(String[] args) throws Exception {
        System.out.println("ç¬¬1æ­¥ï¼šåŠ è½½å’Œå¤„ç†æ–‡æ¡£");
        List&lt;Document&gt; documents = loadAndProcessDocuments();

        System.out.println("\nç¬¬2æ­¥ï¼šç”ŸæˆEmbeddings");
        EmbeddingStore&lt;TextSegment&gt; embeddingStore = createEmbeddingStore(documents);

        System.out.println("\nç¬¬3æ­¥ï¼šåˆ›å»ºæ£€ç´¢å™¨");
        ContentRetriever retriever = createRetriever(embeddingStore);

        System.out.println("\nç¬¬4æ­¥ï¼šåˆå§‹åŒ–è¯­è¨€æ¨¡å‹");
        ChatLanguageModel llm = OpenAiChatModel.builder()
                .apiKey(OPENAI_API_KEY)
                .modelName(OpenAiChatModelName.GPT_4O_MINI)
                .temperature(0.3)
                .build();

        System.out.println("\nç¬¬5æ­¥ï¼šå¯åŠ¨RAGé—®ç­”ç³»ç»Ÿ");
        runRAGQueryLoop(retriever, llm);
    }

    private static List&lt;Document&gt; loadAndProcessDocuments() throws Exception {
        Path docsPath = Paths.get(DOCUMENT_PATH);
        DocumentLoader loader = new DocumentLoader(docsPath);
        List&lt;Document&gt; documents = loader.load();

        System.out.println("  åŠ è½½äº† " + documents.size() + " ä¸ªæ–‡æ¡£");

        DocumentSplitter splitter = new DocumentByParagraphSplitter();
        List&lt;TextSegment&gt; segments = splitter.split(documents);

        System.out.println("  åˆ†å‰²æˆ " + segments.size() + " ä¸ªæ–‡æœ¬æ®µ");
        return documents;
    }

    private static EmbeddingStore&lt;TextSegment&gt; createEmbeddingStore(
            List&lt;Document&gt; documents
    ) {
        EmbeddingStore&lt;TextSegment&gt; store = new InMemoryEmbeddingStore&lt;&gt;();
        EmbeddingModel embeddingModel = OpenAiEmbeddingModel.builder()
                .apiKey(OPENAI_API_KEY)
                .modelName("text-embedding-3-small")
                .build();

        DocumentSplitter splitter = new DocumentByParagraphSplitter();
        List&lt;TextSegment&gt; segments = splitter.split(documents);

        for (TextSegment segment : segments) {
            store.add(
                    embeddingModel.embed(segment.text()).content(),
                    segment.with("document_id", segment.id())
            );
        }

        System.out.println("  å·²å­˜å‚¨ " + segments.size() + " ä¸ªEmbeddingå‘é‡");
        return store;
    }

    private static ContentRetriever createRetriever(
            EmbeddingStore&lt;TextSegment&gt; embeddingStore
    ) {
        EmbeddingModel embeddingModel = OpenAiEmbeddingModel.builder()
                .apiKey(OPENAI_API_KEY)
                .modelName("text-embedding-3-small")
                .build();

        return EmbeddingStoreContentRetriever.builder()
                .embeddingStore(embeddingStore)
                .embeddingModel(embeddingModel)
                .maxResults(5)
                .minScore(0.6)
                .build();
    }

    private static void runRAGQueryLoop(
            ContentRetriever retriever,
            ChatLanguageModel llm
    ) {
        while (true) {
            System.out.println("\n" + "=".repeat(50));
            System.out.print("è¯·è¾“å…¥æ‚¨çš„é—®é¢˜ï¼ˆè¾“å…¥'exit'é€€å‡ºï¼‰: ");
            java.util.Scanner scanner = new java.util.Scanner(System.in);
            String userQuery = scanner.nextLine().trim();

            if (userQuery.equalsIgnoreCase("exit")) {
                System.out.println("å†è§ï¼");
                break;
            }

            if (userQuery.isEmpty()) {
                continue;
            }

            System.out.println("\næ­£åœ¨æ£€ç´¢ç›¸å…³å†…å®¹...");
            long startTime = System.currentTimeMillis();

            List&lt;TextSegment&gt; relevantSegments = retriever.retrieve(
                    Query.from(userQuery)
            );

            long retrievalTime = System.currentTimeMillis() - startTime;
            System.out.println("æ£€ç´¢å®Œæˆï¼Œè€—æ—¶: " + retrievalTime + "ms");
            System.out.println("æ‰¾åˆ° " + relevantSegments.size() + " ä¸ªç›¸å…³ç‰‡æ®µ");

            String augmentedPrompt = buildAugmentedPrompt(userQuery, relevantSegments);

            System.out.println("\nç”Ÿæˆå›ç­”...");
            startTime = System.currentTimeMillis();

            AiMessage aiResponse = llm.generate(UserMessage.from(augmentedPrompt));
            long generationTime = System.currentTimeMillis() - startTime;

            System.out.println("\n=== AIå›ç­” ===");
            System.out.println(aiResponse.text());
            System.out.println("\nç”Ÿæˆè€—æ—¶: " + generationTime + "ms");
            System.out.println("æ€»è€—æ—¶: " + (retrievalTime + generationTime) + "ms");
        }
    }

    private static String buildAugmentedPrompt(
            String userQuery,
            List&lt;TextSegment&gt; relevantSegments
    ) {
        if (relevantSegments.isEmpty()) {
            return "ç”¨æˆ·é—®é¢˜ï¼š" + userQuery + "\n\nè¯·æ ¹æ®ä½ çš„çŸ¥è¯†å›ç­”ã€‚";
        }

        StringBuilder contextBuilder = new StringBuilder();
        contextBuilder.append("ä»¥ä¸‹æ˜¯ä»çŸ¥è¯†åº“ä¸­æ£€ç´¢åˆ°çš„ç›¸å…³ä¿¡æ¯ï¼š\n\n");

        for (int i = 0; i &lt; relevantSegments.size(); i++) {
            TextSegment segment = relevantSegments.get(i);
            contextBuilder.append(String.format(
                    "[ç‰‡æ®µ %d]\n%s\n\n",
                    i + 1,
                    segment.text()
            ));
        }

        contextBuilder.append("---\n\n");
        contextBuilder.append("åŸºäºä»¥ä¸Šä¿¡æ¯ï¼Œè¯·å›ç­”ç”¨æˆ·é—®é¢˜ï¼š");
        contextBuilder.append(userQuery);

        contextBuilder.append("\n\nè¦æ±‚ï¼š");
        contextBuilder.append("1. å¦‚æœä¿¡æ¯è¶³å¤Ÿï¼Œç›´æ¥å›ç­”");
        contextBuilder.append("2. å¦‚æœä¿¡æ¯ä¸è¶³ï¼Œè¯·è¯´æ˜");
        contextBuilder.append("3. å›ç­”è¦å‡†ç¡®ã€ç®€æ´");

        return contextBuilder.toString();
    }
}</code></pre>
                </div>
            </section>

            <section id="advanced-rag" class="mb-16">
                <div class="flex items-center gap-3 mb-6">
        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">8</span>
        <h2 class="text-2xl font-bold text-gray-900">é«˜çº§RAGæŠ€å·§</h2>
    </div>

                <h3 class="text-2xl font-semibold text-gray-900 mb-4">8.1 æŸ¥è¯¢é‡å†™ï¼ˆQuery Rewritingï¼‰</h3>
                <p class="text-gray-700 mb-4">
                    ç›´æ¥ä½¿ç”¨ç”¨æˆ·æŸ¥è¯¢å¯èƒ½æ•ˆæœä¸ä½³ï¼Œå¯ä»¥é€šè¿‡é‡å†™æŸ¥è¯¢æ¥æå‡æ£€ç´¢è´¨é‡ï¼š
                </p>

                <div class="bg-gray-900 rounded-lg p-5 mb-6 overflow-x-auto">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-xs font-mono text-gray-400 uppercase">Java - æŸ¥è¯¢é‡å†™</span>
                        <span class="text-xs text-gray-500">QueryRewriting.java</span>
                    </div>
                    <pre class="text-gray-100 text-sm font-mono"><code>import dev.langchain4j.model.chat.ChatLanguageModel;
import dev.langchain4j.model.openai.OpenAiChatModel;

import java.util.List;

public class QueryRewriting {

    private static ChatLanguageModel rewriteModel;

    public static void main(String[] args) {
        rewriteModel = OpenAiChatModel.builder()
                .apiKey("your-api-key")
                .modelName("gpt-4o-mini")
                .temperature(0.2)
                .build();

        String originalQuery = "LangChain4jæ€ä¹ˆç”¨";
        System.out.println("åŸå§‹æŸ¥è¯¢: " + originalQuery);

        List&lt;String&gt; queryVariants = generateQueryVariants(originalQuery);
        System.out.println("\næŸ¥è¯¢å˜ä½“:");
        queryVariants.forEach(variant -> System.out.println("  - " + variant));

        String formalQuery = rewriteFormally(originalQuery);
        System.out.println("\næ­£å¼æ”¹å†™: " + formalQuery);

        List&lt;String&gt; keywords = extractKeywords(originalQuery);
        System.out.println("\nå…³é”®è¯: " + keywords);
    }

    private static List&lt;String&gt; generateQueryVariants(String query) {
        String prompt = """
            ä¸ºä»¥ä¸‹æŸ¥è¯¢ç”Ÿæˆ3-5ä¸ªä¸åŒçš„å˜ä½“ï¼Œç”¨äºæå‡æ£€ç´¢è´¨é‡ï¼š
            åŸå§‹æŸ¥è¯¢: %s

            è¦æ±‚ï¼š
            1. ä¿æŒåŸæ„ä¸å˜
            2. ä½¿ç”¨ä¸åŒçš„è¡¨è¾¾æ–¹å¼
            3. åŒ…å«åŒä¹‰è¯
            4. æ¯è¡Œä¸€ä¸ªå˜ä½“

            åªè¿”å›å˜ä½“ï¼Œä¸è¦è§£é‡Šã€‚
            """.formatted(query);

        String response = rewriteModel.generate(prompt).content().text();

        return List.of(response.split("\\n"));
    }

    private static String rewriteFormally(String query) {
        String prompt = """
            å°†ä»¥ä¸‹æŸ¥è¯¢æ”¹å†™ä¸ºæ›´æ­£å¼ã€æ›´å®Œæ•´çš„è¡¨è¾¾ï¼š
            åŸå§‹æŸ¥è¯¢: %s

            è¦æ±‚ï¼š
            1. ä½¿ç”¨å®Œæ•´æœ¯è¯­
            2. å¢åŠ å¿…è¦çš„ä¸Šä¸‹æ–‡
            3. æ”¹å†™è¦ç®€æ´æ˜äº†

            åªè¿”å›æ”¹å†™åçš„æŸ¥è¯¢ã€‚
            """.formatted(query);

        return rewriteModel.generate(prompt).content().text();
    }

    private static List&lt;String&gt; extractKeywords(String query) {
        String prompt = """
            ä»ä»¥ä¸‹æŸ¥è¯¢ä¸­æå–3-5ä¸ªå…³é”®æœ¯è¯­ï¼š
            æŸ¥è¯¢: %s

            è¦æ±‚ï¼š
            1. æå–æœ€é‡è¦çš„æ¦‚å¿µ
            2. å»é™¤åœç”¨è¯ï¼ˆå¦‚çš„ã€æ€ä¹ˆã€å¦‚ä½•ï¼‰
            3. æ¯è¡Œä¸€ä¸ªå…³é”®è¯
            4. ä¿æŒæœ¯è¯­çš„åŸæ ·

            åªè¿”å›å…³é”®è¯ï¼Œæ¯è¡Œä¸€ä¸ªã€‚
            """.formatted(query);

        String response = rewriteModel.generate(prompt).content().text();
        return List.of(response.split("\\n"));
    }
}</code></pre>
                </div>

                <h3 class="text-2xl font-semibold text-gray-900 mb-4">8.2 å…ƒæ•°æ®å¢å¼ºä¸è¿‡æ»¤</h3>
                <div class="bg-gray-900 rounded-lg p-5 mb-6 overflow-x-auto">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-xs font-mono text-gray-400 uppercase">Java - å…ƒæ•°æ®è¿‡æ»¤</span>
                        <span class="text-xs text-gray-500">MetadataFiltering.java</span>
                    </div>
                    <pre class="text-gray-100 text-sm font-mono"><code>import dev.langchain4j.data.segment.TextSegment;
import dev.langchain4j.rag.content.retriever.ContentRetriever;
import dev.langchain4j.rag.content.retriever.EmbeddingStoreContentRetriever;
import dev.langchain4j.rag.query.Query;
import dev.langchain4j.store.embedding.EmbeddingStore;
import dev.langchain4j.store.embedding.inmemory.InMemoryEmbeddingStore;
import dev.langchain4j.store.embedding.filter.Filter;
import dev.langchain4j.model.embedding.EmbeddingModel;
import dev.langchain4j.model.openai.OpenAiEmbeddingModel;

import java.time.LocalDate;
import java.util.List;

public class MetadataFiltering {

    public static void main(String[] args) {
        EmbeddingStore&lt;TextSegment&gt; store = createStoreWithMetadata();

        System.out.println("=== åœºæ™¯1: æŒ‰ç±»åˆ«è¿‡æ»¤ ===");
        ContentRetriever techRetriever = EmbeddingStoreContentRetriever.builder()
                .embeddingStore(store)
                .embeddingModel(createEmbeddingModel())
                .maxResults(5)
                .filter(Filter.metadataKey("category").isEqualTo("tech"))
                .build();

        List&lt;TextSegment&gt; techResults = techRetriever.retrieve(
                Query.from("Javaå¼€å‘")
        );
        System.out.println("æŠ€æœ¯æ–‡æ¡£ç»“æœæ•°: " + techResults.size());

        System.out.println("\n=== åœºæ™¯2: æŒ‰æ—¶é—´èŒƒå›´è¿‡æ»¤ ===");
        LocalDate startDate = LocalDate.of(2024, 1, 1);
        LocalDate endDate = LocalDate.of(2024, 12, 31);

        ContentRetriever dateRetriever = EmbeddingStoreContentRetriever.builder()
                .embeddingStore(store)
                .embeddingModel(createEmbeddingModel())
                .maxResults(5)
                .filter(
                        Filter.metadataKey("created_date").isGreaterThanOrEqualTo(startDate.toString())
                                .and(Filter.metadataKey("created_date").isLessThanOrEqualTo(endDate.toString()))
                )
                .build();

        List&lt;TextSegment&gt; dateResults = dateRetriever.retrieve(
                Query.from("æ–°åŠŸèƒ½")
        );
        System.out.println("2024å¹´æ–‡æ¡£ç»“æœæ•°: " + dateResults.size());

        System.out.println("\n=== åœºæ™¯3: ç»„åˆè¿‡æ»¤ ===");
        ContentRetriever combinedRetriever = EmbeddingStoreContentRetriever.builder()
                .embeddingStore(store)
                .embeddingModel(createEmbeddingModel())
                .maxResults(5)
                .filter(
                        Filter.metadataKey("category").isEqualTo("tech")
                                .and(Filter.metadataKey("language").isEqualTo("zh-CN"))
                                .and(Filter.metadataKey("is_public").isEqualTo("true"))
                )
                .build();

        List&lt;TextSegment&gt; combinedResults = combinedRetriever.retrieve(
                Query.from("APIæ–‡æ¡£")
        );
        System.out.println("ç»„åˆè¿‡æ»¤ç»“æœæ•°: " + combinedResults.size());
    }

    private static EmbeddingStore&lt;TextSegment&gt; createStoreWithMetadata() {
        EmbeddingStore&lt;TextSegment&gt; store = new InMemoryEmbeddingStore&lt;&gt;();
        EmbeddingModel model = createEmbeddingModel();

        List&lt;TextSegment&gt; segments = List.of(
                TextSegment.from("LangChain4j APIæ–‡æ¡£")
                        .with("category", "tech")
                        .with("language", "zh-CN")
                        .with("created_date", "2024-06-15")
                        .with("is_public", "true"),
                TextSegment.from("ä¼ä¸šæœ€ä½³å®è·µæŒ‡å—")
                        .with("category", "tech")
                        .with("language", "zh-CN")
                        .with("created_date", "2024-08-20")
                        .with("is_public", "true"),
                TextSegment.from("é”™è¯¯å¤„ç†æ‰‹å†Œ")
                        .with("category", "tech")
                        .with("language", "zh-CN")
                        .with("created_date", "2024-10-05")
                        .with("is_public", "false")
        );

        for (TextSegment segment : segments) {
            store.add(model.embed(segment.text()).content(), segment);
        }

        return store;
    }

    private static EmbeddingModel createEmbeddingModel() {
        return OpenAiEmbeddingModel.builder()
                .apiKey("your-api-key")
                .modelName("text-embedding-3-small")
                .build();
    }
}</code></pre>
                </div>
            </section>

            <section id="best-practices" class="mb-16">
                <div class="flex items-center gap-3 mb-6">
        <span class="flex items-center justify-center w-8 h-8 bg-indigo-600 text-white rounded-full text-sm font-bold">9</span>
        <h2 class="text-2xl font-bold text-gray-900">æœ€ä½³å®è·µä¸ä¼˜åŒ–</h2>
    </div>

                <div class="grid-2col">
                    <div class="border border-gray-200 rounded-lg p-5">
                        <h4 class="font-semibold text-gray-900 mb-2">ğŸš€ Embeddingä¼˜åŒ–</h4>
                        <ul class="space-y-2 text-gray-700 text-sm">
                            <li><strong>æ‰¹é‡å¤„ç†</strong>ï¼šä½¿ç”¨embedAll()è€Œéå¤šæ¬¡embed()</li>
                            <li><strong>æ¨¡å‹é€‰æ‹©</strong>ï¼šå¼€å‘ç”¨smallï¼Œç”Ÿäº§ç”¨large</li>
                            <li><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼šç¼“å­˜å·²ç”ŸæˆEmbedding</li>
                            <li><strong>ç»´åº¦ç¼©å‡</strong>ï¼šè€ƒè™‘ä½¿ç”¨PCAé™ç»´ï¼ˆé«˜çº§ï¼‰</li>
                        </ul>
                    </div>
                    <div class="border border-gray-200 rounded-lg p-5">
                        <h4 class="font-semibold text-gray-900 mb-2">ğŸ” æ£€ç´¢ä¼˜åŒ–</h4>
                        <ul class="space-y-2 text-gray-700 text-sm">
                            <li><strong>å…ƒæ•°æ®è¿‡æ»¤</strong>ï¼šæå‰è¿‡æ»¤ä¸ç›¸å…³å†…å®¹</li>
                            <li><strong>æŸ¥è¯¢ä¼˜åŒ–</strong>ï¼šæŸ¥è¯¢é‡å†™ã€å¤šè·¯æŸ¥è¯¢</li>
                            <li><strong>å¹¶è¡Œæ£€ç´¢</strong>ï¼šåŒæ—¶æ£€ç´¢å¤šä¸ªå­æŸ¥è¯¢</li>
                            <li><strong>é‡æ’åº</strong>ï¼šä½¿ç”¨Cross-Encoderç²¾ç‚¼</li>
                        </ul>
                    </div>
                    <div class="border border-gray-200 rounded-lg p-5">
                        <h4 class="font-semibold text-gray-900 mb-2">âš¡ ç”Ÿæˆä¼˜åŒ–</h4>
                        <ul class="space-y-2 text-gray-700 text-sm">
                            <li><strong>ä¸Šä¸‹æ–‡å‹ç¼©</strong>ï¼šå»é™¤å†—ä½™ä¿¡æ¯</li>
                            <li><strong>Promptä¼˜åŒ–</strong>ï¼šç²¾ç®€æŒ‡ä»¤æ¨¡æ¿</li>
                            <li><strong>æµå¼è¾“å‡º</strong>ï¼šæå‡ç”¨æˆ·ä½“éªŒ</li>
                            <li><strong>æ¨¡å‹é€‰æ‹©</strong>ï¼šæ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚æ¨¡å‹</li>
                        </ul>
                    </div>
                    <div class="border border-gray-200 rounded-lg p-5">
                        <h4 class="font-semibold text-gray-900 mb-2">ğŸ’° æˆæœ¬æ§åˆ¶</h4>
                        <ul class="space-y-2 text-gray-700 text-sm">
                            <li><strong>Tokené¢„ç®—</strong>ï¼šè®¾ç½®maxTokensé™åˆ¶</li>
                            <li><strong>æ¨¡å‹åˆ†çº§</strong>ï¼šç®€å•ç”¨miniï¼Œå¤æ‚ç”¨full</li>
                            <li><strong>ç¼“å­˜ç»“æœ</strong>ï¼šç¼“å­˜ç›¸åŒæŸ¥è¯¢çš„å›ç­”</li>
                            <li><strong>æŒ‰éœ€æ£€ç´¢</strong>ï¼šé¿å…ä¸å¿…è¦çš„å‘é‡æœç´¢</li>
                        </ul>
                    </div>
                </div>

                <div class="bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg p-8 text-white">
                    <h3 class="text-2xl font-bold mb-4">ğŸ¯ æœ¬ç« æ€»ç»“</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold mb-2">æ ¸å¿ƒæ¦‚å¿µ</h4>
                            <ul class="space-y-1 text-sm opacity-90">
                                <li> RAGè®©LLMè®¿é—®ç§æœ‰æ•°æ®</li>
                                <li> æ–‡æ¡£åŠ è½½â†’åˆ†å—â†’Embeddingâ†’å­˜å‚¨</li>
                                <li> æ£€ç´¢â†’å¢å¼ºç”Ÿæˆæ˜¯æ ¸å¿ƒæµç¨‹</li>
                                <li> LangChain4jæä¾›ç»Ÿä¸€çš„RAG API</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold mb-2">å…³é”®ç»„ä»¶</h4>
                            <ul class="space-y-1 text-sm opacity-90">
                                <li> DocumentLoaderï¼šåŠ è½½æ–‡æ¡£</li>
                                <li> DocumentSplitterï¼šåˆ†å‰²æ–‡æœ¬</li>
                                <li> EmbeddingModelï¼šç”Ÿæˆå‘é‡</li>
                                <li> EmbeddingStoreï¼šå­˜å‚¨å‘é‡</li>
                                <li> ContentRetrieverï¼šæ£€ç´¢å†…å®¹</li>
                            </ul>
                        </div>
                    </div>
                    <div class="mt-6 pt-6 border-t border-white/20">
                        <p class="text-sm opacity-90">
                            ä¸‹ä¸€ç« æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•æ„å»ºä¸€ä¸ªå®Œæ•´çš„RAGçŸ¥è¯†åº“é¡¹ç›®ï¼ŒåŒ…æ‹¬å‰ç«¯ç•Œé¢ã€åç«¯APIã€éƒ¨ç½²é…ç½®ç­‰ã€‚
                        </p>
                        <a href="project-rag-kb.html" class="inline-block mt-3 px-6 py-2 bg-white text-indigo-600 rounded-lg font-medium hover:bg-gray-100 transition-colors">
                            ç»§ç»­å­¦ä¹  â†’
                        </a>
                    </div>
                </div>
            </section>
        </main>
    </div>
</body>
</html>